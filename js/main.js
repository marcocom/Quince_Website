jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e},easeOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return g*Math.pow(2,-10*h)*Math.sin((h*l-j)*(2*Math.PI)/k)+m+e},easeInOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l/2)==2){return e+m}if(!k){k=l*(0.3*1.5)}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k)*0.5+m+e},easeInBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}return j*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}return j*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return j/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return j/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});
/* iScroll v5.0.6 ~ (c) 2008-2013 Matteo Spinelli ~ http://cubiq.org/license */
var IScroll=(function(f,a,e){var h=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||f.oRequestAnimationFrame||f.msRequestAnimationFrame||function(j){f.setTimeout(j,1000/60)};var c=(function(){var n={};var o=a.createElement("div").style;var l=(function(){var s=["t","webkitT","MozT","msT","OT"],q,r=0,p=s.length;for(;r<p;r++){q=s[r]+"ransform";if(q in o){return s[r].substr(0,s[r].length-1)}}return false})();function m(p){if(l===false){return false}if(l===""){return p}return l+p.charAt(0).toUpperCase()+p.substr(1)}n.getTime=Date.now||function j(){return new Date().getTime()};n.extend=function(r,q){for(var p in q){r[p]=q[p]}};n.addEvent=function(s,r,q,p){s.addEventListener(r,q,!!p)};n.removeEvent=function(s,r,q,p){s.removeEventListener(r,q,!!p)};n.momentum=function(w,r,s,p,x){var q=w-r,t=e.abs(q)/s,y,u,v=0.0006;y=w+(t*t)/(2*v)*(q<0?-1:1);u=t/v;if(y<p){y=x?p-(x/2.5*(t/8)):p;q=e.abs(y-w);u=q/t}else{if(y>0){y=x?x/2.5*(t/8):0;q=e.abs(w)+y;u=q/t}}return{destination:e.round(y),duration:u}};var k=m("transform");n.extend(n,{hasTransform:k!==false,hasPerspective:m("perspective") in o,hasTouch:"ontouchstart" in f,hasPointer:navigator.msPointerEnabled,hasTransition:m("transition") in o});n.isAndroidBrowser=/Android/.test(f.navigator.appVersion)&&/Version\/\d/.test(f.navigator.appVersion);n.extend(n.style={},{transform:k,transitionTimingFunction:m("transitionTimingFunction"),transitionDuration:m("transitionDuration"),transformOrigin:m("transformOrigin")});n.hasClass=function(q,r){var p=new RegExp("(^|\\s)"+r+"(\\s|$)");return p.test(q.className)};n.addClass=function(q,r){if(n.hasClass(q,r)){return}var p=q.className.split(" ");p.push(r);q.className=p.join(" ")};n.removeClass=function(q,r){if(!n.hasClass(q,r)){return}var p=new RegExp("(^|\\s)"+r+"(\\s|$)","g");q.className=q.className.replace(p," ")};n.offset=function(p){var r=-p.offsetLeft,q=-p.offsetTop;while(p=p.offsetParent){r-=p.offsetLeft;q-=p.offsetTop}return{left:r,top:q}};n.preventDefaultException=function(r,q){for(var p in q){if(q[p].test(r[p])){return true}}return false};n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(p){return p*(2-p)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(p){return e.sqrt(1-(--p*p))}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(q){var p=4;return(q=q-1)*q*((p+1)*q+p)+1}},bounce:{style:"",fn:function(p){if((p/=1)<(1/2.75)){return 7.5625*p*p}else{if(p<(2/2.75)){return 7.5625*(p-=(1.5/2.75))*p+0.75}else{if(p<(2.5/2.75)){return 7.5625*(p-=(2.25/2.75))*p+0.9375}else{return 7.5625*(p-=(2.625/2.75))*p+0.984375}}}}},elastic:{style:"",fn:function(p){var q=0.22,r=0.4;if(p===0){return 0}if(p==1){return 1}return(r*e.pow(2,-10*p)*e.sin((p-q/4)*(2*e.PI)/q)+1)}}});n.tap=function(r,p){var q=a.createEvent("Event");q.initEvent(p,true,true);q.pageX=r.pageX;q.pageY=r.pageY;r.target.dispatchEvent(q)};n.click=function(r){var q=r.target,p;if(q.tagName!="SELECT"&&q.tagName!="INPUT"&&q.tagName!="TEXTAREA"){p=a.createEvent("MouseEvents");p.initMouseEvent("click",true,true,r.view,1,q.screenX,q.screenY,q.clientX,q.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,0,null);p._constructed=true;q.dispatchEvent(p)}};return n})();function g(l,j){this.wrapper=typeof l=="string"?a.querySelector(l):l;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeIndicator:true,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true};for(var k in j){this.options[k]=j[k]}this.translateZ=this.options.HWCompositing&&c.hasPerspective?" translateZ(0)":"";this.options.useTransition=c.hasTransition&&this.options.useTransition;this.options.useTransform=c.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?c.ease[this.options.bounceEasing]||c.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap="tap"}this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}g.prototype={version:"5.0.6",_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators()}if(this.options.mouseWheel){this._initWheel()}if(this.options.snap){this._initSnap()}if(this.options.keyBindings){this._initKeys()}},destroy:function(){this._initEvents(true);this._execEvent("destroy")},_transitionEnd:function(j){if(j.target!=this.scroller){return}this._transitionTime(0);if(!this.resetPosition(this.options.bounceTime)){this._execEvent("scrollEnd")}},_start:function(k){if(c.eventType[k.type]!=1){if(k.button!==0){return}}if(!this.enabled||(this.initiated&&c.eventType[k.type]!==this.initiated)){return}if(this.options.preventDefault&&!c.isAndroidBrowser&&!c.preventDefaultException(k.target,this.options.preventDefaultException)){k.preventDefault()}var j=k.touches?k.touches[0]:k,l;this.initiated=c.eventType[k.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.isAnimating=false;this.startTime=c.getTime();if(this.options.useTransition&&this.isInTransition){l=this.getComputedPosition();this._translate(e.round(l.x),e.round(l.y));this._execEvent("scrollEnd");this.isInTransition=false}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=j.pageX;this.pointY=j.pageY;this._execEvent("beforeScrollStart")},_move:function(o){if(!this.enabled||c.eventType[o.type]!==this.initiated){return}if(this.options.preventDefault){o.preventDefault()}var q=o.touches?o.touches[0]:o,l=q.pageX-this.pointX,k=q.pageY-this.pointY,p=c.getTime(),j,r,n,m;this.pointX=q.pageX;this.pointY=q.pageY;this.distX+=l;this.distY+=k;n=e.abs(this.distX);m=e.abs(this.distY);if(p-this.endTime>300&&(n<10&&m<10)){return}if(!this.directionLocked&&!this.options.freeScroll){if(n>m+this.options.directionLockThreshold){this.directionLocked="h"}else{if(m>=n+this.options.directionLockThreshold){this.directionLocked="v"}else{this.directionLocked="n"}}}if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical"){o.preventDefault()}else{if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return}}k=0}else{if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal"){o.preventDefault()}else{if(this.options.eventPassthrough=="vertical"){this.initiated=false;return}}l=0}}l=this.hasHorizontalScroll?l:0;k=this.hasVerticalScroll?k:0;j=this.x+l;r=this.y+k;if(j>0||j<this.maxScrollX){j=this.options.bounce?this.x+l/3:j>0?0:this.maxScrollX}if(r>0||r<this.maxScrollY){r=this.options.bounce?this.y+k/3:r>0?0:this.maxScrollY}this.directionX=l>0?-1:l<0?1:0;this.directionY=k>0?-1:k<0?1:0;if(!this.moved){this._execEvent("scrollStart")}this.moved=true;this._translate(j,r);if(p-this.startTime>300){this.startTime=p;this.startX=this.x;this.startY=this.y}},_end:function(p){if(!this.enabled||c.eventType[p.type]!==this.initiated){return}if(this.options.preventDefault&&!c.preventDefaultException(p.target,this.options.preventDefaultException)){p.preventDefault()}var r=p.changedTouches?p.changedTouches[0]:p,l,k,o=c.getTime()-this.startTime,j=e.round(this.x),u=e.round(this.y),t=e.abs(j-this.startX),s=e.abs(u-this.startY),m=0,q="";this.scrollTo(j,u);this.isInTransition=0;this.initiated=0;this.endTime=c.getTime();if(this.resetPosition(this.options.bounceTime)){return}if(!this.moved){if(this.options.tap){c.tap(p,this.options.tap)}if(this.options.click){c.click(p)}return}if(this._events.flick&&o<200&&t<100&&s<100){this._execEvent("flick");return}if(this.options.momentum&&o<300){l=this.hasHorizontalScroll?c.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:j,duration:0};k=this.hasVerticalScroll?c.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:u,duration:0};j=l.destination;u=k.destination;m=e.max(l.duration,k.duration);this.isInTransition=1}if(this.options.snap){var n=this._nearestSnap(j,u);this.currentPage=n;m=this.options.snapSpeed||e.max(e.max(e.min(e.abs(j-n.x),1000),e.min(e.abs(u-n.y),1000)),300);j=n.x;u=n.y;this.directionX=0;this.directionY=0;q=this.options.bounceEasing}if(j!=this.x||u!=this.y){if(j>0||j<this.maxScrollX||u>0||u<this.maxScrollY){q=c.ease.quadratic}this.scrollTo(j,u,m,q);return}this._execEvent("scrollEnd")},_resize:function(){var j=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){j.refresh()},this.options.resizePolling)},resetPosition:function(k){var j=this.x,l=this.y;k=k||0;if(!this.hasHorizontalScroll||this.x>0){j=0}else{if(this.x<this.maxScrollX){j=this.maxScrollX}}if(!this.hasVerticalScroll||this.y>0){l=0}else{if(this.y<this.maxScrollY){l=this.maxScrollY}}if(j==this.x&&l==this.y){return false}this.scrollTo(j,l,k,this.options.bounceEasing);return true},disable:function(){this.enabled=false},enable:function(){this.enabled=true},refresh:function(){var j=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=c.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(k,j){if(!this._events[k]){this._events[k]=[]}this._events[k].push(j)},_execEvent:function(m){if(!this._events[m]){return}var k=0,j=this._events[m].length;if(!j){return}for(;k<j;k++){this._events[m][k].call(this)}},scrollBy:function(j,m,k,l){j=this.x+j;m=this.y+m;k=k||0;this.scrollTo(j,m,k,l)},scrollTo:function(j,m,k,l){l=l||c.ease.circular;if(!k||(this.options.useTransition&&l.style)){this._transitionTimingFunction(l.style);this._transitionTime(k);this._translate(j,m)}else{this._animate(j,m,k,l.fn)}},forcePositionX:function(j){this.options.useTransition?this._translate(j,0):this._animate(j,0,0)},scrollToElement:function(k,l,j,o,n){k=k.nodeType?k:this.scroller.querySelector(k);if(!k){return}var m=c.offset(k);m.left-=this.wrapperOffset.left;m.top-=this.wrapperOffset.top;if(j===true){j=e.round(k.offsetWidth/2-this.wrapper.offsetWidth/2)}if(o===true){o=e.round(k.offsetHeight/2-this.wrapper.offsetHeight/2)}m.left-=j||0;m.top-=o||0;m.left=m.left>0?0:m.left<this.maxScrollX?this.maxScrollX:m.left;m.top=m.top>0?0:m.top<this.maxScrollY?this.maxScrollY:m.top;l=l===undefined||l===null||l==="auto"?e.max(e.abs(this.x-m.left),e.abs(this.y-m.top)):l;this.scrollTo(m.left,m.top,l,n)},_transitionTime:function(k){k=k||0;this.scrollerStyle[c.style.transitionDuration]=k+"ms";if(this.indicators){for(var j=this.indicators.length;j--;){this.indicators[j].transitionTime(k)}}},_transitionTimingFunction:function(k){this.scrollerStyle[c.style.transitionTimingFunction]=k;if(this.indicators){for(var j=this.indicators.length;j--;){this.indicators[j].transitionTimingFunction(k)}}},_translate:function(j,l){if(this.options.useTransform){this.scrollerStyle[c.style.transform]="translate("+j+"px,"+l+"px)"+this.translateZ}else{j=e.round(j);l=e.round(l);this.scrollerStyle.left=j+"px";this.scrollerStyle.top=l+"px"}this.x=j;this.y=l;if(this.indicators){for(var k=this.indicators.length;k--;){this.indicators[k].updatePosition()}}},_initEvents:function(j){var k=j?c.removeEvent:c.addEvent,l=this.options.bindToWrapper?this.wrapper:f;k(f,"orientationchange",this);k(f,"resize",this);if(this.options.click){k(this.wrapper,"click",this,true)}if(!this.options.disableMouse){k(this.wrapper,"mousedown",this);k(l,"mousemove",this);k(l,"mousecancel",this);k(l,"mouseup",this)}if(c.hasPointer&&!this.options.disablePointer){k(this.wrapper,"MSPointerDown",this);k(l,"MSPointerMove",this);k(l,"MSPointerCancel",this);k(l,"MSPointerUp",this)}if(c.hasTouch&&!this.options.disableTouch){k(this.wrapper,"touchstart",this);k(l,"touchmove",this);k(l,"touchcancel",this);k(l,"touchend",this)}k(this.scroller,"transitionend",this);k(this.scroller,"webkitTransitionEnd",this);k(this.scroller,"oTransitionEnd",this);k(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var k=f.getComputedStyle(this.scroller,null),j,l;if(this.options.useTransform){k=k[c.style.transform].split(")")[0].split(", ");j=+(k[12]||k[4]);l=+(k[13]||k[5])}else{j=+k.left.replace(/[^-\d]/g,"");l=+k.top.replace(/[^-\d]/g,"")}return{x:j,y:l}},_initIndicators:function(){var k=this.options.interactiveScrollbars,n=typeof this.options.scrollbars!="object",m=typeof this.options.scrollbars!="string",o=[],j;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){j={el:d("v",k,this.options.scrollbars),interactive:k,defaultScrollbars:true,customStyle:m,resize:this.options.resizeIndicator,listenX:false};this.wrapper.appendChild(j.el);o.push(j)}if(this.options.scrollX){j={el:d("h",k,this.options.scrollbars),interactive:k,defaultScrollbars:true,customStyle:m,resize:this.options.resizeIndicator,listenY:false};this.wrapper.appendChild(j.el);o.push(j)}}if(this.options.indicators){o=o.concat(this.options.indicators)}for(var l=o.length;l--;){this.indicators[l]=new b(this,o[l])}this.on("refresh",function(){if(this.indicators){for(var p=this.indicators.length;p--;){this.indicators[p].refresh()}}});this.on("destroy",function(){if(this.indicators){for(var p=this.indicators.length;p--;){this.indicators[p].destroy()}}delete this.indicators})},_initWheel:function(){c.addEvent(this.wrapper,"mousewheel",this);c.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){c.removeEvent(this.wrapper,"mousewheel",this);c.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(n){if(!this.enabled){return}n.preventDefault();var l,k,o,m,j=this;clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){j._execEvent("scrollEnd")},400);if("wheelDeltaX" in n){l=n.wheelDeltaX/120;k=n.wheelDeltaY/120}else{if("wheelDelta" in n){l=k=n.wheelDelta/120}else{if("detail" in n){l=k=-n.detail/3}else{return}}}l*=this.options.mouseWheelSpeed;k*=this.options.mouseWheelSpeed;if(!this.hasVerticalScroll){l=k;k=0}if(this.options.snap){o=this.currentPage.pageX;m=this.currentPage.pageY;if(l>0){o--}else{if(l<0){o++}}if(k>0){m--}else{if(k<0){m++}}this.goToPage(o,m);return}o=this.x+e.round(this.hasHorizontalScroll?l*this.options.invertWheelDirection:0);m=this.y+e.round(this.hasVerticalScroll?k*this.options.invertWheelDirection:0);if(o>0){o=0}else{if(o<this.maxScrollX){o=this.maxScrollX}}if(m>0){m=0}else{if(m<this.maxScrollY){m=this.maxScrollY}}this.scrollTo(o,m,0)},_initSnap:function(){this.currentPage={};if(typeof this.options.snap=="string"){this.options.snap=this.scroller.querySelectorAll(this.options.snap)}this.on("refresh",function(){var s=0,q,o=0,k,r,p,u=0,t,w=this.options.snapStepX||this.wrapperWidth,v=this.options.snapStepY||this.wrapperHeight,j;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return}if(this.options.snap===true){r=e.round(w/2);p=e.round(v/2);while(u>-this.scrollerWidth){this.pages[s]=[];q=0;t=0;while(t>-this.scrollerHeight){this.pages[s][q]={x:e.max(u,this.maxScrollX),y:e.max(t,this.maxScrollY),width:w,height:v,cx:u-r,cy:t-p};t-=v;q++}u-=w;s++}}else{j=this.options.snap;q=j.length;k=-1;for(;s<q;s++){if(s===0||j[s].offsetLeft<=j[s-1].offsetLeft){o=0;k++}if(!this.pages[o]){this.pages[o]=[]}u=e.max(-j[s].offsetLeft,this.maxScrollX);t=e.max(-j[s].offsetTop,this.maxScrollY);r=u-e.round(j[s].offsetWidth/2);p=t-e.round(j[s].offsetHeight/2);this.pages[o][k]={x:u,y:t,width:j[s].offsetWidth,height:j[s].offsetHeight,cx:r,cy:p};if(u>this.maxScrollX){o++}}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold}else{this.snapThresholdX=e.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=e.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold)}});this.on("flick",function(){var j=this.options.snapSpeed||e.max(e.max(e.min(e.abs(this.x-this.startX),1000),e.min(e.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,j)})},_nearestSnap:function(k,p){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0}}var o=0,n=this.pages.length,j=0;if(e.abs(k-this.absStartX)<this.snapThresholdX&&e.abs(p-this.absStartY)<this.snapThresholdY){return this.currentPage}if(k>0){k=0}else{if(k<this.maxScrollX){k=this.maxScrollX}}if(p>0){p=0}else{if(p<this.maxScrollY){p=this.maxScrollY}}for(;o<n;o++){if(k>=this.pages[o][0].cx){k=this.pages[o][0].x;break}}n=this.pages[o].length;for(;j<n;j++){if(p>=this.pages[0][j].cy){p=this.pages[0][j].y;break}}if(o==this.currentPage.pageX){o+=this.directionX;if(o<0){o=0}else{if(o>=this.pages.length){o=this.pages.length-1}}k=this.pages[o][0].x}if(j==this.currentPage.pageY){j+=this.directionY;if(j<0){j=0}else{if(j>=this.pages[0].length){j=this.pages[0].length-1}}p=this.pages[0][j].y}return{x:k,y:p,pageX:o,pageY:j}},goToPage:function(j,o,k,n){n=n||this.options.bounceEasing;if(j>=this.pages.length){j=this.pages.length-1}else{if(j<0){j=0}}if(o>=this.pages[j].length){o=this.pages[j].length-1}else{if(o<0){o=0}}var m=this.pages[j][o].x,l=this.pages[j][o].y;k=k===undefined?this.options.snapSpeed||e.max(e.max(e.min(e.abs(m-this.x),1000),e.min(e.abs(l-this.y),1000)),300):k;this.currentPage={x:m,y:l,pageX:j,pageY:o};this.scrollTo(m,l,k,n)},next:function(k,m){var j=this.currentPage.pageX,l=this.currentPage.pageY;j++;if(j>=this.pages.length&&this.hasVerticalScroll){j=0;l++}this.goToPage(j,l,k,m)},prev:function(k,m){var j=this.currentPage.pageX,l=this.currentPage.pageY;j--;if(j<0&&this.hasVerticalScroll){j=0;l--}this.goToPage(j,l,k,m)},_initKeys:function(l){var k={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var j;if(typeof this.options.keyBindings=="object"){for(j in this.options.keyBindings){if(typeof this.options.keyBindings[j]=="string"){this.options.keyBindings[j]=this.options.keyBindings[j].toUpperCase().charCodeAt(0)}}}else{this.options.keyBindings={}}for(j in k){this.options.keyBindings[j]=this.options.keyBindings[j]||k[j]}c.addEvent(f,"keydown",this);this.on("destroy",function(){c.removeEvent(f,"keydown",this)})},_key:function(o){if(!this.enabled){return}var j=this.options.snap,p=j?this.currentPage.pageX:this.x,n=j?this.currentPage.pageY:this.y,l=c.getTime(),k=this.keyTime||0,m=0.25,q;if(this.options.useTransition&&this.isInTransition){q=this.getComputedPosition();this._translate(e.round(q.x),e.round(q.y));this.isInTransition=false}this.keyAcceleration=l-k<200?e.min(this.keyAcceleration+m,50):0;switch(o.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){p+=j?1:this.wrapperWidth}else{n+=j?1:this.wrapperHeight}break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){p-=j?1:this.wrapperWidth}else{n-=j?1:this.wrapperHeight}break;case this.options.keyBindings.end:p=j?this.pages.length-1:this.maxScrollX;n=j?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:p=0;n=0;break;case this.options.keyBindings.left:p+=j?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:n+=j?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:p-=j?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:n-=j?1:5+this.keyAcceleration>>0;break;default:return}if(j){this.goToPage(p,n);return}if(p>0){p=0;this.keyAcceleration=0}else{if(p<this.maxScrollX){p=this.maxScrollX;this.keyAcceleration=0}}if(n>0){n=0;this.keyAcceleration=0}else{if(n<this.maxScrollY){n=this.maxScrollY;this.keyAcceleration=0}}this.scrollTo(p,n,0);this.keyTime=l},_animate:function(s,r,m,j){var p=this,o=this.x,n=this.y,k=c.getTime(),q=k+m;function l(){var t=c.getTime(),v,u,w;if(t>=q){p.isAnimating=false;p._translate(s,r);if(!p.resetPosition(p.options.bounceTime)){p._execEvent("scrollEnd")}return}t=(t-k)/m;w=j(t);v=(s-o)*w+o;u=(r-n)*w+n;p._translate(v,u);if(p.isAnimating){h(l)}}this.isAnimating=true;l()},handleEvent:function(j){switch(j.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(j);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(j);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(j);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(j);break;case"DOMMouseScroll":case"mousewheel":this._wheel(j);break;case"keydown":this._key(j);break;case"click":if(!j._constructed){j.preventDefault();j.stopPropagation()}break}}};function d(m,k,l){var n=a.createElement("div"),j=a.createElement("div");if(l===true){n.style.cssText="position:absolute;z-index:9999";j.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"}j.className="iScrollIndicator";if(m=="h"){if(l===true){n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0";j.style.height="100%"}n.className="iScrollHorizontalScrollbar"}else{if(l===true){n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px";j.style.width="100%"}n.className="iScrollVerticalScrollbar"}if(!k){n.style.pointerEvents="none"}n.appendChild(j);return n}function b(j,k){this.wrapper=typeof k.el=="string"?a.querySelector(k.el):k.el;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=j;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,speedRatioX:0,speedRatioY:0};for(var l in k){this.options[l]=k[l]}this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){c.addEvent(this.indicator,"touchstart",this);c.addEvent(f,"touchend",this)}if(!this.options.disablePointer){c.addEvent(this.indicator,"MSPointerDown",this);c.addEvent(f,"MSPointerUp",this)}if(!this.options.disableMouse){c.addEvent(this.indicator,"mousedown",this);c.addEvent(f,"mouseup",this)}}}b.prototype={handleEvent:function(j){switch(j.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(j);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(j);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(j);break}},destroy:function(){if(this.options.interactive){c.removeEvent(this.indicator,"touchstart",this);c.removeEvent(this.indicator,"MSPointerDown",this);c.removeEvent(this.indicator,"mousedown",this);c.removeEvent(f,"touchmove",this);c.removeEvent(f,"MSPointerMove",this);c.removeEvent(f,"mousemove",this);c.removeEvent(f,"touchend",this);c.removeEvent(f,"MSPointerUp",this);c.removeEvent(f,"mouseup",this)}if(this.options.defaultScrollbars){this.wrapper.parentNode.removeChild(this.wrapper)}},_start:function(k){var j=k.touches?k.touches[0]:k;k.preventDefault();k.stopPropagation();this.transitionTime(0);this.initiated=true;this.moved=false;this.lastPointX=j.pageX;this.lastPointY=j.pageY;this.startTime=c.getTime();if(!this.options.disableTouch){c.addEvent(f,"touchmove",this)}if(!this.options.disablePointer){c.addEvent(f,"MSPointerMove",this)}if(!this.options.disableMouse){c.addEvent(f,"mousemove",this)}this.scroller._execEvent("beforeScrollStart")},_move:function(o){var k=o.touches?o.touches[0]:o,l,j,p,n,m=c.getTime();if(!this.moved){this.scroller._execEvent("scrollStart")}this.moved=true;l=k.pageX-this.lastPointX;this.lastPointX=k.pageX;j=k.pageY-this.lastPointY;this.lastPointY=k.pageY;p=this.x+l;n=this.y+j;this._pos(p,n);o.preventDefault();o.stopPropagation()},_end:function(l){if(!this.initiated){return}this.initiated=false;l.preventDefault();l.stopPropagation();c.removeEvent(f,"touchmove",this);c.removeEvent(f,"MSPointerMove",this);c.removeEvent(f,"mousemove",this);if(this.scroller.options.snap){var j=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var k=this.options.snapSpeed||e.max(e.max(e.min(e.abs(this.scroller.x-j.x),1000),e.min(e.abs(this.scroller.y-j.y),1000)),300);if(this.scroller.x!=j.x||this.scroller.y!=j.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=j;this.scroller.scrollTo(j.x,j.y,k,this.scroller.options.bounceEasing)}}if(this.moved){this.scroller._execEvent("scrollEnd")}},transitionTime:function(j){j=j||0;this.indicatorStyle[c.style.transitionDuration]=j+"ms"},transitionTimingFunction:function(j){this.indicatorStyle[c.style.transitionTimingFunction]=j},refresh:function(){this.transitionTime(0);if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none"}else{if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none"}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none"}}if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){c.addClass(this.wrapper,"iScrollBothScrollbars");c.removeClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="8px"}else{this.wrapper.style.bottom="8px"}}}else{c.removeClass(this.wrapper,"iScrollBothScrollbars");c.addClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="2px"}else{this.wrapper.style.bottom="2px"}}}var j=this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=e.max(e.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+"px"}else{this.indicatorWidth=this.indicator.clientWidth}this.maxPosX=this.wrapperWidth-this.indicatorWidth;this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX))}if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=e.max(e.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+"px"}else{this.indicatorHeight=this.indicator.clientHeight}this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY))}this.updatePosition()},updatePosition:function(){var j=e.round(this.sizeRatioX*this.scroller.x)||0,k=e.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(j<0){j=0}else{if(j>this.maxPosX){j=this.maxPosX}}if(k<0){k=0}else{if(k>this.maxPosY){k=this.maxPosY}}}this.x=j;this.y=k;if(this.scroller.options.useTransform){this.indicatorStyle[c.style.transform]="translate("+j+"px,"+k+"px)"+this.scroller.translateZ}else{this.indicatorStyle.left=j+"px";this.indicatorStyle.top=k+"px"}},_pos:function(j,k){if(j<0){j=0}else{if(j>this.maxPosX){j=this.maxPosX}}if(k<0){k=0}else{if(k>this.maxPosY){k=this.maxPosY}}j=this.options.listenX?e.round(j/this.sizeRatioX):this.scroller.x;k=this.options.listenY?e.round(k/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(j,k)}};g.ease=c.ease;return g})(window,document,Math);
/* Hammer.JS - v1.0.7dev - 2014-01-15
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
(function(C,k){var x=function(N,M){return new x.Instance(N,M||{})};x.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};x.HAS_POINTEREVENTS=C.navigator.pointerEnabled||C.navigator.msPointerEnabled;x.HAS_TOUCHEVENTS=("ontouchstart" in C);x.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i;x.NO_MOUSEEVENTS=x.HAS_TOUCHEVENTS&&C.navigator.userAgent.match(x.MOBILE_REGEX);x.EVENT_TYPES={};x.DIRECTION_DOWN="down";x.DIRECTION_LEFT="left";x.DIRECTION_UP="up";x.DIRECTION_RIGHT="right";x.POINTER_MOUSE="mouse";x.POINTER_TOUCH="touch";x.POINTER_PEN="pen";x.EVENT_START="start";x.EVENT_MOVE="move";x.EVENT_END="end";x.DOCUMENT=C.document;x.plugins=x.plugins||{};x.gestures=x.gestures||{};x.READY=false;function e(){if(x.READY){return}x.event.determineEventTypes();x.utils.each(x.gestures,function(M){x.detection.register(M)});x.event.onTouch(x.DOCUMENT,x.EVENT_MOVE,x.detection.detect);x.event.onTouch(x.DOCUMENT,x.EVENT_END,x.detection.detect);x.READY=true}x.utils={extend:function j(M,O,P){for(var N in O){if(M[N]!==k&&P){continue}M[N]=O[N]}return M},each:function(Q,O,N){var M,P;if("forEach" in Q){Q.forEach(O,N)}else{if(Q.length!==k){for(M=0,P=Q.length;M<P;M++){if(O.call(N,Q[M],M,Q)===false){return}}}else{for(M in Q){if(Q.hasOwnProperty(M)&&O.call(N,Q[M],M,Q)===false){return}}}}},hasParent:function(N,M){while(N){if(N==M){return true}N=N.parentNode}return false},getCenter:function y(N){var O=[],M=[];x.utils.each(N,function(P){O.push(typeof P.clientX!=="undefined"?P.clientX:P.pageX);M.push(typeof P.clientY!=="undefined"?P.clientY:P.pageY)});return{pageX:((Math.min.apply(Math,O)+Math.max.apply(Math,O))/2),pageY:((Math.min.apply(Math,M)+Math.max.apply(Math,M))/2)}},getVelocity:function a(M,O,N){return{x:Math.abs(O/M)||0,y:Math.abs(N/M)||0}},getAngle:function o(O,N){var P=N.pageY-O.pageY,M=N.pageX-O.pageX;return Math.atan2(P,M)*180/Math.PI},getDirection:function l(O,N){var M=Math.abs(O.pageX-N.pageX),P=Math.abs(O.pageY-N.pageY);if(M>=P){return O.pageX-N.pageX>0?x.DIRECTION_LEFT:x.DIRECTION_RIGHT}else{return O.pageY-N.pageY>0?x.DIRECTION_UP:x.DIRECTION_DOWN}},getDistance:function n(O,N){var M=N.pageX-O.pageX,P=N.pageY-O.pageY;return Math.sqrt((M*M)+(P*P))},getScale:function w(N,M){if(N.length>=2&&M.length>=2){return this.getDistance(M[0],M[1])/this.getDistance(N[0],N[1])}return 1},getRotation:function u(N,M){if(N.length>=2&&M.length>=2){return this.getAngle(M[1],M[0])-this.getAngle(N[1],N[0])}return 0},isVertical:function B(M){return(M==x.DIRECTION_UP||M==x.DIRECTION_DOWN)},stopDefaultBrowserBehavior:function c(N,M){if(!M||!N||!N.style){return}x.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(O){x.utils.each(M,function(P,Q){if(O){Q=O+Q.substring(0,1).toUpperCase()+Q.substring(1)}if(Q in N.style){N.style[Q]=P}})});if(M.userSelect=="none"){N.onselectstart=function(){return false}}if(M.userDrag=="none"){N.ondragstart=function(){return false}}}};x.Instance=function(O,N){var M=this;e();this.element=O;this.enabled=true;this.options=x.utils.extend(x.utils.extend({},x.defaults),N||{});if(this.options.stop_browser_behavior){x.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior)}x.event.onTouch(O,x.EVENT_START,function(P){if(M.enabled){x.detection.startDetect(M,P)}});return this};x.Instance.prototype={on:function D(M,N){var O=M.split(" ");x.utils.each(O,function(P){this.element.addEventListener(P,N,false)},this);return this},off:function p(M,N){var O=M.split(" ");x.utils.each(O,function(P){this.element.removeEventListener(P,N,false)},this);return this},trigger:function H(N,P){if(!P){P={}}var O=x.DOCUMENT.createEvent("Event");O.initEvent(N,true,true);O.gesture=P;var M=this.element;if(x.utils.hasParent(P.target,M)){M=P.target}M.dispatchEvent(O);return this},enable:function d(M){this.enabled=M;return this}};var G=null;var m=false;var h=false;x.event={bindDom:function(N,P,O){var M=P.split(" ");x.utils.each(M,function(Q){N.addEventListener(Q,O,false)})},onTouch:function A(O,N,P){var M=this;this.bindDom(O,x.EVENT_TYPES[N],function Q(S){var T=S.type.toLowerCase();if(T.match(/mouse/)&&h){return}else{if(T.match(/touch/)||T.match(/pointerdown/)||(T.match(/mouse/)&&S.which===1)){m=true}else{if(T.match(/mouse/)&&!S.which){m=false}}}if(T.match(/touch|pointer/)){h=true}var R=0;if(m){if(x.HAS_POINTEREVENTS&&N!=x.EVENT_END){R=x.PointerEvent.updatePointer(N,S)}else{if(T.match(/touch/)){R=S.touches.length}else{if(!h){R=T.match(/up/)?0:1}}}if(R>0&&N==x.EVENT_END){N=x.EVENT_MOVE}else{if(!R){N=x.EVENT_END}}if(R||G===null){G=S}P.call(x.detection,M.collectEventData(O,N,M.getTouchList(G,N),S));if(x.HAS_POINTEREVENTS&&N==x.EVENT_END){R=x.PointerEvent.updatePointer(N,S)}}if(!R){G=null;m=false;h=false;x.PointerEvent.reset()}})},determineEventTypes:function F(){var M;if(x.HAS_POINTEREVENTS){M=x.PointerEvent.getEvents()}else{if(x.NO_MOUSEEVENTS){M=["touchstart","touchmove","touchend touchcancel"]}else{M=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"]}}x.EVENT_TYPES[x.EVENT_START]=M[0];x.EVENT_TYPES[x.EVENT_MOVE]=M[1];x.EVENT_TYPES[x.EVENT_END]=M[2]},getTouchList:function t(M){if(x.HAS_POINTEREVENTS){return x.PointerEvent.getTouchList()}else{if(M.touches){return M.touches}else{M.identifier=1;return[M]}}},collectEventData:function K(O,N,Q,P){var M=x.POINTER_TOUCH;if(P.type.match(/mouse/)||x.PointerEvent.matchType(x.POINTER_MOUSE,P)){M=x.POINTER_MOUSE}return{center:x.utils.getCenter(Q),timeStamp:new Date().getTime(),target:P.target,touches:Q,eventType:N,pointerType:M,srcEvent:P,preventDefault:function(){if(this.srcEvent.preventManipulation){this.srcEvent.preventManipulation()}if(this.srcEvent.preventDefault){this.srcEvent.preventDefault()}},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return x.detection.stopDetect()}}}};x.PointerEvent={pointers:{},getTouchList:function(){var M=this;var N=[];x.utils.each(M.pointers,function(O){N.push(O)});return N},updatePointer:function(N,M){if(N==x.EVENT_END){this.pointers={}}else{M.identifier=M.pointerId;this.pointers[M.pointerId]=M}return Object.keys(this.pointers).length},matchType:function(M,O){if(!O.pointerType){return false}var P=O.pointerType,N={};N[x.POINTER_MOUSE]=(P===O.MSPOINTER_TYPE_MOUSE||P===x.POINTER_MOUSE);N[x.POINTER_TOUCH]=(P===O.MSPOINTER_TYPE_TOUCH||P===x.POINTER_TOUCH);N[x.POINTER_PEN]=(P===O.MSPOINTER_TYPE_PEN||P===x.POINTER_PEN);return N[M]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}};x.detection={gestures:[],current:null,previous:null,stopped:false,startDetect:function z(N,M){if(this.current){return}this.stopped=false;this.current={inst:N,startEvent:x.utils.extend({},M),lastEvent:false,name:""};this.detect(M)},detect:function r(M){if(!this.current||this.stopped){return}M=this.extendEventData(M);var N=this.current.inst.options;x.utils.each(this.gestures,function(O){if(!this.stopped&&N[O.name]!==false){if(O.handler.call(O,M,this.current.inst)===false){this.stopDetect();return false}}},this);if(this.current){this.current.lastEvent=M}if(M.eventType==x.EVENT_END&&!M.touches.length-1){this.stopDetect()}return M},stopDetect:function b(){this.previous=x.utils.extend({},this.current);this.current=null;this.stopped=true},extendEventData:function v(P){var Q=this.current.startEvent;if(Q&&(P.touches.length!=Q.touches.length||P.touches===Q.touches)){Q.touches=[];x.utils.each(P.touches,function(U){Q.touches.push(x.utils.extend({},U))})}var N=P.timeStamp-Q.timeStamp,T=P.center.pageX-Q.center.pageX,S=P.center.pageY-Q.center.pageY,O=x.utils.getVelocity(N,T,S),R,M;if(P.eventType==="end"){R=this.current.lastEvent&&this.current.lastEvent.interimAngle;M=this.current.lastEvent&&this.current.lastEvent.interimDirection}else{R=this.current.lastEvent&&x.utils.getAngle(this.current.lastEvent.center,P.center);M=this.current.lastEvent&&x.utils.getDirection(this.current.lastEvent.center,P.center)}x.utils.extend(P,{deltaTime:N,deltaX:T,deltaY:S,velocityX:O.x,velocityY:O.y,distance:x.utils.getDistance(Q.center,P.center),angle:x.utils.getAngle(Q.center,P.center),interimAngle:R,direction:x.utils.getDirection(Q.center,P.center),interimDirection:M,scale:x.utils.getScale(Q.touches,P.touches),rotation:x.utils.getRotation(Q.touches,P.touches),startEvent:Q});return P},register:function f(N){var M=N.defaults||{};if(M[N.name]===k){M[N.name]=true}x.utils.extend(x.defaults,M,true);N.index=N.index||1000;this.gestures.push(N);this.gestures.sort(function(P,O){if(P.index<O.index){return -1}if(P.index>O.index){return 1}return 0});return this.gestures}};x.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:true,drag_max_touches:1,drag_block_horizontal:false,drag_block_vertical:false,drag_lock_to_axis:false,drag_lock_min_distance:25},triggered:false,handler:function s(N,O){if(x.detection.current.name!=this.name&&this.triggered){O.trigger(this.name+"end",N);this.triggered=false;return}if(O.options.drag_max_touches>0&&N.touches.length>O.options.drag_max_touches){return}switch(N.eventType){case x.EVENT_START:this.triggered=false;break;case x.EVENT_MOVE:if(N.distance<O.options.drag_min_distance&&x.detection.current.name!=this.name){return}if(x.detection.current.name!=this.name){x.detection.current.name=this.name;if(O.options.correct_for_drag_min_distance&&N.distance>0){var M=Math.abs(O.options.drag_min_distance/N.distance);x.detection.current.startEvent.center.pageX+=N.deltaX*M;x.detection.current.startEvent.center.pageY+=N.deltaY*M;N=x.detection.extendEventData(N)}}if(x.detection.current.lastEvent.drag_locked_to_axis||(O.options.drag_lock_to_axis&&O.options.drag_lock_min_distance<=N.distance)){N.drag_locked_to_axis=true}var P=x.detection.current.lastEvent.direction;if(N.drag_locked_to_axis&&P!==N.direction){if(x.utils.isVertical(P)){N.direction=(N.deltaY<0)?x.DIRECTION_UP:x.DIRECTION_DOWN}else{N.direction=(N.deltaX<0)?x.DIRECTION_LEFT:x.DIRECTION_RIGHT}}if(!this.triggered){O.trigger(this.name+"start",N);this.triggered=true}O.trigger(this.name,N);O.trigger(this.name+N.direction,N);if((O.options.drag_block_vertical&&x.utils.isVertical(N.direction))||(O.options.drag_block_horizontal&&!x.utils.isVertical(N.direction))){N.preventDefault()}break;case x.EVENT_END:if(this.triggered){O.trigger(this.name+"end",N)}this.triggered=false;break}}};x.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function J(M,N){switch(M.eventType){case x.EVENT_START:clearTimeout(this.timer);x.detection.current.name=this.name;this.timer=setTimeout(function(){if(x.detection.current.name=="hold"){N.trigger("hold",M)}},N.options.hold_timeout);break;case x.EVENT_MOVE:if(M.distance>N.options.hold_threshold){clearTimeout(this.timer)}break;case x.EVENT_END:clearTimeout(this.timer);break}}};x.gestures.Release={name:"release",index:Infinity,handler:function I(M,N){if(M.eventType==x.EVENT_END){N.trigger(this.name,M)}}};x.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:0.7},handler:function L(M,N){if(M.eventType==x.EVENT_END){if(N.options.swipe_max_touches>0&&M.touches.length<N.options.swipe_min_touches&&M.touches.length>N.options.swipe_max_touches){return}if(M.velocityX>N.options.swipe_velocity||M.velocityY>N.options.swipe_velocity){N.trigger(this.name,M);N.trigger(this.name+M.direction,M)}}}};x.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:true,doubletap_distance:20,doubletap_interval:300},handler:function E(O,P){if(O.eventType==x.EVENT_END&&O.srcEvent.type!="touchcancel"){var N=x.detection.previous,M=false;if(O.deltaTime>P.options.tap_max_touchtime||O.distance>P.options.tap_max_distance){return}if(N&&N.name=="tap"&&(O.timeStamp-N.lastEvent.timeStamp)<P.options.doubletap_interval&&O.distance<P.options.doubletap_distance){P.trigger("doubletap",O);M=true}if(!M||P.options.tap_always){x.detection.current.name="tap";P.trigger(x.detection.current.name,O)}}}};x.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:false,prevent_mouseevents:false},handler:function g(M,N){if(N.options.prevent_mouseevents&&M.pointerType==x.POINTER_MOUSE){M.stopDetect();return}if(N.options.prevent_default){M.preventDefault()}if(M.eventType==x.EVENT_START){N.trigger(this.name,M)}}};x.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:0.01,transform_min_rotation:1,transform_always_block:false},triggered:false,handler:function q(O,P){if(x.detection.current.name!=this.name&&this.triggered){P.trigger(this.name+"end",O);this.triggered=false;return}if(O.touches.length<2){return}if(P.options.transform_always_block){O.preventDefault()}switch(O.eventType){case x.EVENT_START:this.triggered=false;break;case x.EVENT_MOVE:var N=Math.abs(1-O.scale);var M=Math.abs(O.rotation);if(N<P.options.transform_min_scale&&M<P.options.transform_min_rotation){return}x.detection.current.name=this.name;if(!this.triggered){P.trigger(this.name+"start",O);this.triggered=true}P.trigger(this.name,O);if(M>P.options.transform_min_rotation){P.trigger("rotate",O)}if(N>P.options.transform_min_scale){P.trigger("pinch",O);P.trigger("pinch"+((O.scale<1)?"in":"out"),O)}break;case x.EVENT_END:if(this.triggered){P.trigger(this.name+"end",O)}this.triggered=false;break}}};if(typeof define=="function"&&define.amd){define(function(){return x})}else{if(typeof module==="object"&&module.exports){module.exports=x}else{C.Hammer=x}}})(window);
/* jQuery plugin for Hammer.JS - v1.0.1 - 2014-02-03
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
(function(b,c){function a(d,e){d.event.bindDom=function(f,h,g){e(f).on(h,function(j){var k=j.originalEvent||j;if(k.pageX===c){k.pageX=j.pageX;k.pageY=j.pageY}if(!k.target){k.target=j.target}if(k.which===c){k.which=k.button}if(!k.preventDefault){k.preventDefault=j.preventDefault}if(!k.stopPropagation){k.stopPropagation=j.stopPropagation}g.call(this,k)})};d.Instance.prototype.on=function(f,g){return e(this.element).on(f,g)};d.Instance.prototype.off=function(f,g){return e(this.element).off(f,g)};d.Instance.prototype.trigger=function(f,h){var g=e(this.element);if(g.has(h.target).length){g=e(h.target)}return g.trigger({type:f,gesture:h})};e.fn.hammer=function(f){return this.each(function(){var g=e(this);var h=g.data("hammer");if(!h){g.data("hammer",new d(this,f||{}))}else{if(h&&f){d.utils.extend(h.options,f)}}})}}if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define(["hammerjs","jquery"],a)}else{a(b.Hammer,b.jQuery||b.Zepto)}})(this);
/*
 * Masonry PACKAGED v3.1.4
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(c){var d=Array.prototype.slice;function b(){}function a(f){if(!f){return}function h(j){if(j.prototype.option){return}j.prototype.option=function(k){if(!f.isPlainObject(k)){return}this.options=f.extend(true,this.options,k)}}var e=typeof console==="undefined"?b:function(j){console.error(j)};function g(j,k){f.fn[j]=function(o){if(typeof o==="string"){var n=d.call(arguments,1);for(var p=0,m=this.length;p<m;p++){var r=this[p];var l=f.data(r,j);if(!l){e("cannot call methods on "+j+" prior to initialization; attempted to call '"+o+"'");continue}if(!f.isFunction(l[o])||o.charAt(0)==="_"){e("no such method '"+o+"' for "+j+" instance");continue}var q=l[o].apply(l,n);if(q!==undefined){return q}}return this}else{return this.each(function(){var s=f.data(this,j);if(s){s.option(o);s._init()}else{s=new k(this,o);f.data(this,j,s)}})}}}f.bridget=function(j,k){h(k);g(j,k)};return f.bridget}if(typeof define==="function"&&define.amd){define("jquery-bridget/jquery.bridget",["jquery"],a)}else{a(c.jQuery)}})(window);
/*
 * eventie v1.0.5
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 * MIT license
 */
(function(e){var b=document.documentElement;var f=function(){};function a(h){var g=e.event;g.target=g.target||g.srcElement||h;return g}if(b.addEventListener){f=function(j,h,g){j.addEventListener(h,g,false)}}else{if(b.attachEvent){f=function(j,h,g){j[h+g]=g.handleEvent?function(){var k=a(j);g.handleEvent.call(g,k)}:function(){var k=a(j);g.call(j,k)};j.attachEvent("on"+h,j[h+g])}}}var d=function(){};if(b.removeEventListener){d=function(j,h,g){j.removeEventListener(h,g,false)}}else{if(b.detachEvent){d=function(k,h,g){k.detachEvent("on"+h,k[h+g]);try{delete k[h+g]}catch(j){k[h+g]=undefined}}}}var c={bind:f,unbind:d};if(typeof define==="function"&&define.amd){define("eventie/eventie",c)}else{if(typeof exports==="object"){module.exports=c}else{e.eventie=c}}})(this);
/*
 * docReady
 * Cross browser DOMContentLoaded event emitter
 */
(function(d){var b=d.document;var a=[];function c(g){if(typeof g!=="function"){return}if(c.isReady){g()}else{a.push(g)}}c.isReady=false;function f(l){var k=l.type==="readystatechange"&&b.readyState!=="complete";if(c.isReady||k){return}c.isReady=true;for(var h=0,g=a.length;h<g;h++){var j=a[h];j()}}function e(g){g.bind(b,"DOMContentLoaded",f);g.bind(b,"readystatechange",f);g.bind(d,"load",f);return c}if(typeof define==="function"&&define.amd){c.isReady=typeof requirejs==="function";define("doc-ready/doc-ready",["eventie/eventie"],e)}else{d.docReady=e(d.eventie)}})(this);
/*
 * EventEmitter v4.2.7 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){function c(){}var m=c.prototype;var w=this;var y=w.EventEmitter;function h(A,B){var z=A.length;while(z--){if(A[z].listener===B){return z}}return -1}function k(z){return function A(){return this[z].apply(this,arguments)}}m.getListeners=function u(z){var C=this._getEvents();var A;var B;if(z instanceof RegExp){A={};for(B in C){if(C.hasOwnProperty(B)&&z.test(B)){A[B]=C[B]}}}else{A=C[z]||(C[z]=[])}return A};m.flattenListeners=function s(B){var z=[];var A;for(A=0;A<B.length;A+=1){z.push(B[A].listener)}return z};m.getListenersAsObject=function e(z){var B=this.getListeners(z);var A;if(B instanceof Array){A={};A[z]=B}return A||B};m.addListener=function f(z,C){var B=this.getListenersAsObject(z);var D=typeof C==="object";var A;for(A in B){if(B.hasOwnProperty(A)&&h(B[A],C)===-1){B[A].push(D?C:{listener:C,once:false})}}return this};m.on=k("addListener");m.addOnceListener=function a(z,A){return this.addListener(z,{listener:A,once:true})};m.once=k("addOnceListener");m.defineEvent=function q(z){this.getListeners(z);return this};m.defineEvents=function r(z){for(var A=0;A<z.length;A+=1){this.defineEvent(z[A])}return this};m.removeListener=function b(z,D){var C=this.getListenersAsObject(z);var A;var B;for(B in C){if(C.hasOwnProperty(B)){A=h(C[B],D);if(A!==-1){C[B].splice(A,1)}}}return this};m.off=k("removeListener");m.addListeners=function n(z,A){return this.manipulateListeners(false,z,A)};m.removeListeners=function t(z,A){return this.manipulateListeners(true,z,A)};m.manipulateListeners=function g(A,B,D){var C;var E;var F=A?this.removeListener:this.addListener;var z=A?this.removeListeners:this.addListeners;if(typeof B==="object"&&!(B instanceof RegExp)){for(C in B){if(B.hasOwnProperty(C)&&(E=B[C])){if(typeof E==="function"){F.call(this,C,E)}else{z.call(this,C,E)}}}}else{C=D.length;while(C--){F.call(this,B,D[C])}}return this};m.removeEvent=function p(z){var C=typeof z;var B=this._getEvents();var A;if(C==="string"){delete B[z]}else{if(z instanceof RegExp){for(A in B){if(B.hasOwnProperty(A)&&z.test(A)){delete B[A]}}}else{delete this._events}}return this};m.removeAllListeners=k("removeEvent");m.emitEvent=function v(z,B){var E=this.getListenersAsObject(z);var F;var D;var C;var A;for(C in E){if(E.hasOwnProperty(C)){D=E[C].length;while(D--){F=E[C][D];if(F.once===true){this.removeListener(z,F.listener)}A=F.listener.apply(this,B||[]);if(A===this._getOnceReturnValue()){this.removeListener(z,F.listener)}}}}return this};m.trigger=k("emitEvent");m.emit=function l(z){var A=Array.prototype.slice.call(arguments,1);return this.emitEvent(z,A)};m.setOnceReturnValue=function j(z){this._onceReturnValue=z;return this};m._getOnceReturnValue=function o(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};m._getEvents=function d(){return this._events||(this._events={})};c.noConflict=function x(){w.EventEmitter=y;return c};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return c})}else{if(typeof module==="object"&&module.exports){module.exports=c}else{this.EventEmitter=c}}}.call(this));
/*
 * getStyleProperty v1.0.3
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 */
(function(c){var d="Webkit Moz ms Ms O".split(" ");var b=document.documentElement.style;function a(h){if(!h){return}if(typeof b[h]==="string"){return h}h=h.charAt(0).toUpperCase()+h.slice(1);var f;for(var g=0,e=d.length;g<e;g++){f=d[g]+h;if(typeof b[f]==="string"){return f}}}if(typeof define==="function"&&define.amd){define("get-style-property/get-style-property",[],function(){return a})}else{if(typeof exports==="object"){module.exports=a}else{c.getStyleProperty=a}}})(window);(function(d,g){var e=d.getComputedStyle;var a=e?function(j){return e(j,null)}:function(j){return j.currentStyle};function c(k){var j=parseFloat(k);var l=k.indexOf("%")===-1&&!isNaN(j);return l&&j}var b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function f(){var l={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var k=0,j=b.length;k<j;k++){var m=b[k];l[m]=0}return l}function h(m){var k=m("boxSizing");var l;(function(){if(!k){return}var q=document.createElement("div");q.style.width="200px";q.style.padding="1px 2px 3px 4px";q.style.borderStyle="solid";q.style.borderWidth="1px 2px 3px 4px";q.style[k]="border-box";var o=document.body||document.documentElement;o.appendChild(q);var p=a(q);l=c(p.width)===200;o.removeChild(q)})();function n(D){if(typeof D==="string"){D=document.querySelector(D)}if(!D||typeof D!=="object"||!D.nodeType){return}var B=a(D);if(B.display==="none"){return f()}var u={};u.width=D.offsetWidth;u.height=D.offsetHeight;var C=u.isBorderBox=!!(k&&B[k]&&B[k]==="border-box");for(var y=0,z=b.length;y<z;y++){var w=b[y];var x=B[w];x=j(D,x);var o=parseFloat(x);u[w]=!isNaN(o)?o:0}var A=u.paddingLeft+u.paddingRight;var t=u.paddingTop+u.paddingBottom;var F=u.marginLeft+u.marginRight;var r=u.marginTop+u.marginBottom;var E=u.borderLeftWidth+u.borderRightWidth;var q=u.borderTopWidth+u.borderBottomWidth;var p=C&&l;var s=c(B.width);if(s!==false){u.width=s+(p?0:A+E)}var v=c(B.height);if(v!==false){u.height=v+(p?0:t+q)}u.innerWidth=u.width-(A+E);u.innerHeight=u.height-(t+q);u.outerWidth=u.width+F;u.outerHeight=u.height+r;return u}function j(r,s){if(e||s.indexOf("%")===-1){return s}var q=r.style;var t=q.left;var p=r.runtimeStyle;var o=p&&p.left;if(o){p.left=r.currentStyle.left}q.left=s;s=q.pixelLeft;q.left=t;if(o){p.left=o}return s}return n}if(typeof define==="function"&&define.amd){define("get-size/get-size",["get-style-property/get-style-property"],h)}else{if(typeof exports==="object"){module.exports=h(require("get-style-property"))}else{d.getSize=h(d.getStyleProperty)}}})(window);(function(b,j){var g=(function(){if(j.matchesSelector){return"matchesSelector"}var o=["webkit","moz","ms","o"];for(var m=0,l=o.length;m<l;m++){var n=o[m];var p=n+"MatchesSelector";if(j[p]){return p}}})();function e(m,l){return m[g](l)}function h(m){if(m.parentNode){return}var l=document.createDocumentFragment();l.appendChild(m)}function f(p,m){h(p);var n=p.parentNode.querySelectorAll(m);for(var o=0,l=n.length;o<l;o++){if(n[o]===p){return true}}return false}function d(m,l){h(m);return e(m,l)}var k;if(g){var a=document.createElement("div");var c=e(a,"div");k=c?e:d}else{k=f}if(typeof define==="function"&&define.amd){define("matches-selector/matches-selector",[],function(){return k})}else{window.matchesSelector=k}})(this,Element.prototype);(function(d){var c=document.defaultView;var b=c&&c.getComputedStyle?function(h){return c.getComputedStyle(h,null)}:function(h){return h.currentStyle};function g(j,h){for(var k in h){j[k]=h[k]}return j}function a(h){for(var j in h){return false}j=null;return true}function e(h){return h.replace(/([A-Z])/g,function(j){return"-"+j.toLowerCase()})}function f(w,v,l){var u=l("transition");var r=l("transform");var s=u&&r;var p=!!l("perspective");var h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u];var n=["transform","transition","transitionDuration","transitionProperty"];var t=(function(){var y={};for(var z=0,x=n.length;z<x;z++){var B=n[z];var A=l(B);if(A&&A!==B){y[B]=A}}return y})();function k(x,y){if(!x){return}this.element=x;this.layout=y;this.position={x:0,y:0};this._create()}g(k.prototype,w.prototype);k.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};k.prototype.handleEvent=function(x){var y="on"+x.type;if(this[y]){this[y](x)}};k.prototype.getSize=function(){this.size=v(this.element)};k.prototype.css=function(z){var x=this.element.style;for(var A in z){var y=t[A]||A;x[y]=z[A]}};k.prototype.getPosition=function(){var C=b(this.element);var A=this.layout.options;var F=A.isOriginLeft;var E=A.isOriginTop;var z=parseInt(C[F?"left":"right"],10);var D=parseInt(C[E?"top":"bottom"],10);z=isNaN(z)?0:z;D=isNaN(D)?0:D;var B=this.layout.size;z-=F?B.paddingLeft:B.paddingRight;D-=E?B.paddingTop:B.paddingBottom;this.position.x=z;this.position.y=D};k.prototype.layoutPosition=function(){var y=this.layout.size;var x=this.layout.options;var z={};if(x.isOriginLeft){z.left=(this.position.x+y.paddingLeft)+"px";z.right=""}else{z.right=(this.position.x+y.paddingRight)+"px";z.left=""}if(x.isOriginTop){z.top=(this.position.y+y.paddingTop)+"px";z.bottom=""}else{z.bottom=(this.position.y+y.paddingBottom)+"px";z.top=""}this.css(z);this.emitEvent("layout",[this])};var j=p?function(z,A){return"translate3d("+z+"px, "+A+"px, 0)"}:function(z,A){return"translate("+z+"px, "+A+"px)"};k.prototype._transitionTo=function(I,H){this.getPosition();var A=this.position.x;var z=this.position.y;var G=parseInt(I,10);var F=parseInt(H,10);var E=G===this.position.x&&F===this.position.y;this.setPosition(I,H);if(E&&!this.isTransitioning){this.layoutPosition();return}var D=I-A;var C=H-z;var B={};var J=this.layout.options;D=J.isOriginLeft?D:-D;C=J.isOriginTop?C:-C;B.transform=j(D,C);this.transition({to:B,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};k.prototype.goTo=function(z,A){this.setPosition(z,A);this.layoutPosition()};k.prototype.moveTo=s?k.prototype._transitionTo:k.prototype.goTo;k.prototype.setPosition=function(z,A){this.position.x=parseInt(z,10);this.position.y=parseInt(A,10)};k.prototype._nonTransition=function(x){this.css(x.to);if(x.isCleaning){this._removeStyles(x.to)}for(var y in x.onTransitionEnd){x.onTransitionEnd[y].call(this)}};k.prototype._transition=function(x){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(x);return}var z=this._transn;for(var A in x.onTransitionEnd){z.onEnd[A]=x.onTransitionEnd[A]}for(A in x.to){z.ingProperties[A]=true;if(x.isCleaning){z.clean[A]=true}}if(x.from){this.css(x.from);var y=this.element.offsetHeight;y=null}this.enableTransition(x.to);this.css(x.to);this.isTransitioning=true};var m=r&&(e(r)+",opacity");k.prototype.enableTransition=function(){if(this.isTransitioning){return}this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration});this.element.addEventListener(h,this,false)};k.prototype.transition=k.prototype[u?"_transition":"_nonTransition"];k.prototype.onwebkitTransitionEnd=function(x){this.ontransitionend(x)};k.prototype.onotransitionend=function(x){this.ontransitionend(x)};var o={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};k.prototype.ontransitionend=function(A){if(A.target!==this.element){return}var z=this._transn;var x=o[A.propertyName]||A.propertyName;delete z.ingProperties[x];if(a(z.ingProperties)){this.disableTransition()}if(x in z.clean){this.element.style[A.propertyName]="";delete z.clean[x]}if(x in z.onEnd){var y=z.onEnd[x];y.call(this);delete z.onEnd[x]}this.emitEvent("transitionEnd",[this])};k.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(h,this,false);this.isTransitioning=false};k.prototype._removeStyles=function(y){var x={};for(var z in y){x[z]=""}this.css(x)};var q={transitionProperty:"",transitionDuration:""};k.prototype.removeTransitionStyles=function(){this.css(q)};k.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])};k.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var x=this;this.on("transitionEnd",function(){x.removeElem();return true});this.hide()};k.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var x=this.layout.options;this.transition({from:x.hiddenStyle,to:x.visibleStyle,isCleaning:true})};k.prototype.hide=function(){this.isHidden=true;this.css({display:""});var x=this.layout.options;this.transition({from:x.visibleStyle,to:x.hiddenStyle,isCleaning:true,onTransitionEnd:{opacity:function(){if(this.isHidden){this.css({display:"none"})}}}})};k.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return k}if(typeof define==="function"&&define.amd){define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],f)}else{d.Outlayer={};d.Outlayer.Item=f(d.EventEmitter,d.getSize,d.getStyleProperty)}})(window);
/*
 * Outlayer v1.1.10
 * the brains and guts of a layout library
 * MIT license
 */
(function(f){var j=f.document;var c=f.console;var p=f.jQuery;var o=function(){};function h(s,r){for(var t in r){s[t]=r[t]}return s}var q=Object.prototype.toString;function d(r){return q.call(r)==="[object Array]"}function a(u){var t=[];if(d(u)){t=u}else{if(u&&typeof u.length==="number"){for(var s=0,r=u.length;s<r;s++){t.push(u[s])}}else{t.push(u)}}return t}var g=(typeof HTMLElement==="object")?function e(r){return r instanceof HTMLElement}:function b(r){return r&&typeof r==="object"&&r.nodeType===1&&typeof r.nodeName==="string"};var k=Array.prototype.indexOf?function(r,s){return r.indexOf(s)}:function(t,u){for(var s=0,r=t.length;s<r;s++){if(t[s]===u){return s}}return -1};function m(t,s){var r=k(s,t);if(r!==-1){s.splice(r,1)}}function l(r){return r.replace(/(.)([A-Z])/g,function(t,s,u){return s+"-"+u}).toLowerCase()}function n(x,s,z,y,A,t){var v=0;var r={};function u(C,B){if(typeof C==="string"){C=j.querySelector(C)}if(!C||!g(C)){if(c){c.error("Bad "+this.constructor.namespace+" element: "+C)}return}this.element=C;this.options=h({},this.options);this.option(B);var D=++v;this.element.outlayerGUID=D;r[D]=this;this._create();if(this.options.isInitLayout){this.layout()}}u.namespace="outlayer";u.Item=t;u.prototype.options={containerStyle:{position:"relative"},isInitLayout:true,isOriginLeft:true,isOriginTop:true,isResizeBound:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};h(u.prototype,z.prototype);u.prototype.option=function(B){h(this.options,B)};u.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);h(this.element.style,this.options.containerStyle);if(this.options.isResizeBound){this.bindResize()}};u.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)};u.prototype._itemize=function(D){var G=this._filterFindItemElements(D);var E=this.constructor.Item;var C=[];for(var F=0,B=G.length;F<B;F++){var I=G[F];var H=new E(I,this);C.push(H)}return C};u.prototype._filterFindItemElements=function(B){B=a(B);var C=this.options.itemSelector;var G=[];for(var F=0,H=B.length;F<H;F++){var D=B[F];if(!g(D)){continue}if(C){if(A(D,C)){G.push(D)}var I=D.querySelectorAll(C);for(var E=0,J=I.length;E<J;E++){G.push(I[E])}}else{G.push(D)}}return G};u.prototype.getItemElements=function(){var C=[];for(var D=0,B=this.items.length;D<B;D++){C.push(this.items[D].element)}return C};u.prototype.layout=function(){this._resetLayout();this._manageStamps();var B=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,B);this._isLayoutInited=true};u.prototype._init=u.prototype.layout;u.prototype._resetLayout=function(){this.getSize()};u.prototype.getSize=function(){this.size=y(this.element)};u.prototype._getMeasurement=function(D,B){var C=this.options[D];var E;if(!C){this[D]=0}else{if(typeof C==="string"){E=this.element.querySelector(C)}else{if(g(C)){E=C}}this[D]=E?y(E)[B]:C}};u.prototype.layoutItems=function(B,C){B=this._getItemsForLayout(B);this._layoutItems(B,C);this._postLayout()};u.prototype._getItemsForLayout=function(C){var F=[];for(var D=0,B=C.length;D<B;D++){var E=C[D];if(!E.isIgnored){F.push(E)}}return F};u.prototype._layoutItems=function(I,H){var F=this;function B(){F.emitEvent("layoutComplete",[F,I])}if(!I||!I.length){B();return}this._itemsOn(I,"layout",B);var E=[];for(var C=0,G=I.length;C<G;C++){var J=I[C];var D=this._getItemLayoutPosition(J);D.item=J;D.isInstant=H||J.isLayoutInstant;E.push(D)}this._processLayoutQueue(E)};u.prototype._getItemLayoutPosition=function(){return{x:0,y:0}};u.prototype._processLayoutQueue=function(C){for(var D=0,B=C.length;D<B;D++){var E=C[D];this._positionItem(E.item,E.x,E.y,E.isInstant)}};u.prototype._positionItem=function(C,B,E,D){if(D){C.goTo(B,E)}else{C.moveTo(B,E)}};u.prototype._postLayout=function(){var B=this._getContainerSize();if(B){this._setContainerMeasure(B.width,true);this._setContainerMeasure(B.height,false)}};u.prototype._getContainerSize=o;u.prototype._setContainerMeasure=function(B,C){if(B===undefined){return}var D=this.size;if(D.isBorderBox){B+=C?D.paddingLeft+D.paddingRight+D.borderLeftWidth+D.borderRightWidth:D.paddingBottom+D.paddingTop+D.borderTopWidth+D.borderBottomWidth}B=Math.max(B,0);this.element.style[C?"width":"height"]=B+"px"};u.prototype._itemsOn=function(I,E,J){var B=0;var H=I.length;var G=this;function D(){B++;if(B===H){J.call(G)}return true}for(var C=0,F=I.length;C<F;C++){var K=I[C];K.on(E,D)}};u.prototype.ignore=function(C){var B=this.getItem(C);if(B){B.isIgnored=true}};u.prototype.unignore=function(C){var B=this.getItem(C);if(B){delete B.isIgnored}};u.prototype.stamp=function(C){C=this._find(C);if(!C){return}this.stamps=this.stamps.concat(C);for(var D=0,B=C.length;D<B;D++){var E=C[D];this.ignore(E)}};u.prototype.unstamp=function(C){C=this._find(C);if(!C){return}for(var D=0,B=C.length;D<B;D++){var E=C[D];m(E,this.stamps);this.unignore(E)}};u.prototype._find=function(B){if(!B){return}if(typeof B==="string"){B=this.element.querySelectorAll(B)}B=a(B);return B};u.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();for(var D=0,B=this.stamps.length;D<B;D++){var C=this.stamps[D];this._manageStamp(C)}};u.prototype._getBoundingRect=function(){var B=this.element.getBoundingClientRect();var C=this.size;this._boundingRect={left:B.left+C.paddingLeft+C.borderLeftWidth,top:B.top+C.paddingTop+C.borderTopWidth,right:B.right-(C.paddingRight+C.borderRightWidth),bottom:B.bottom-(C.paddingBottom+C.borderBottomWidth)}};u.prototype._manageStamp=o;u.prototype._getElementOffset=function(E){var B=E.getBoundingClientRect();var D=this._boundingRect;var C=y(E);var F={left:B.left-D.left-C.marginLeft,top:B.top-D.top-C.marginTop,right:D.right-B.right-C.marginRight,bottom:D.bottom-B.bottom-C.marginBottom};return F};u.prototype.handleEvent=function(B){var C="on"+B.type;if(this[C]){this[C](B)}};u.prototype.bindResize=function(){if(this.isResizeBound){return}x.bind(f,"resize",this);this.isResizeBound=true};u.prototype.unbindResize=function(){x.unbind(f,"resize",this);this.isResizeBound=false};u.prototype.onresize=function(){if(this.resizeTimeout){clearTimeout(this.resizeTimeout)}var C=this;function B(){C.resize();delete C.resizeTimeout}this.resizeTimeout=setTimeout(B,100)};u.prototype.resize=function(){var C=y(this.element);var B=this.size&&C;if(B&&C.innerWidth===this.size.innerWidth){return}this.layout()};u.prototype.addItems=function(C){var B=this._itemize(C);if(B.length){this.items=this.items.concat(B)}return B};u.prototype.appended=function(C){var B=this.addItems(C);if(!B.length){return}this.layoutItems(B,true);this.reveal(B)};u.prototype.prepended=function(C){var B=this._itemize(C);if(!B.length){return}var D=this.items.slice(0);this.items=B.concat(D);this._resetLayout();this._manageStamps();this.layoutItems(B,true);this.reveal(B);this.layoutItems(D)};u.prototype.reveal=function(C){var B=C&&C.length;if(!B){return}for(var D=0;D<B;D++){var E=C[D];E.reveal()}};u.prototype.hide=function(C){var B=C&&C.length;if(!B){return}for(var D=0;D<B;D++){var E=C[D];E.hide()}};u.prototype.getItem=function(E){for(var C=0,B=this.items.length;C<B;C++){var D=this.items[C];if(D.element===E){return D}}};u.prototype.getItems=function(D){if(!D||!D.length){return}var C=[];for(var E=0,B=D.length;E<B;E++){var G=D[E];var F=this.getItem(G);if(F){C.push(F)}}return C};u.prototype.remove=function(C){C=a(C);var E=this.getItems(C);if(!E||!E.length){return}this._itemsOn(E,"remove",function(){this.emitEvent("removeComplete",[this,E])});for(var D=0,B=E.length;D<B;D++){var F=E[D];F.remove();m(F,this.items)}};u.prototype.destroy=function(){var D=this.element.style;D.height="";D.position="";D.width="";for(var C=0,B=this.items.length;C<B;C++){var E=this.items[C];E.destroy()}this.unbindResize();delete this.element.outlayerGUID;if(p){p.removeData(this.element,this.constructor.namespace)}};u.data=function(B){var C=B&&B.outlayerGUID;return C&&r[C]};function w(C,B){C.prototype[B]=h({},u.prototype[B])}u.create=function(E,C){function D(){u.apply(this,arguments)}if(Object.create){D.prototype=Object.create(u.prototype)}else{h(D.prototype,u.prototype)}D.prototype.constructor=D;w(D,"options");h(D.prototype.options,C);D.namespace=E;D.data=u.data;D.Item=function B(){t.apply(this,arguments)};D.Item.prototype=new t();s(function(){var L=l(E);var F=j.querySelectorAll(".js-"+L);var M="data-"+L+"-options";for(var H=0,I=F.length;H<I;H++){var G=F[H];var J=G.getAttribute(M);var O;try{O=J&&JSON.parse(J)}catch(K){if(c){c.error("Error parsing "+M+" on "+G.nodeName.toLowerCase()+(G.id?"#"+G.id:"")+": "+K)}continue}var N=new D(G,O);if(p){p.data(G,E,N)}}});if(p&&p.bridget){p.bridget(E,D)}return D};u.Item=t;return u}if(typeof define==="function"&&define.amd){define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],n)}else{f.Outlayer=n(f.eventie,f.docReady,f.EventEmitter,f.getSize,f.matchesSelector,f.Outlayer.Item)}})(window);
/*
 * Masonry v3.1.4
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(c){var b=Array.prototype.indexOf?function(d,e){return d.indexOf(e)}:function(e,h){for(var f=0,d=e.length;f<d;f++){var g=e[f];if(g===h){return f}}return -1};function a(e,f){var d=e.create("masonry");d.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var g=this.cols;this.colYs=[];while(g--){this.colYs.push(0)}this.maxY=0};d.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var h=this.items[0];var g=h&&h.element;this.columnWidth=g&&f(g).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)};d.prototype.getContainerWidth=function(){var g=this.options.isFitWidth?this.element.parentNode:this.element;var h=f(g);this.containerWidth=h&&h.innerWidth};d.prototype._getItemLayoutPosition=function(r){r.getSize();var q=r.size.outerWidth%this.columnWidth;var m=q&&q<1?"round":"ceil";var n=Math[m](r.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);var g=this._getColGroup(n);var h=Math.min.apply(Math,g);var o=b(g,h);var l={x:this.columnWidth*o,y:h};var p=h+r.size.outerHeight;var j=this.cols+1-g.length;for(var k=0;k<j;k++){this.colYs[o+k]=p}return l};d.prototype._getColGroup=function(j){if(j<2){return this.colYs}var k=[];var l=this.cols+1-j;for(var g=0;g<l;g++){var h=this.colYs.slice(g,g+j);k[g]=Math.max.apply(Math,h)}return k};d.prototype._manageStamp=function(g){var n=f(g);var l=this._getElementOffset(g);var k=this.options.isOriginLeft?l.left:l.right;var h=k+n.outerWidth;var p=Math.floor(k/this.columnWidth);p=Math.max(0,p);var j=Math.floor(h/this.columnWidth);j-=h%this.columnWidth?0:1;j=Math.min(this.cols-1,j);var o=(this.options.isOriginTop?l.top:l.bottom)+n.outerHeight;for(var m=p;m<=j;m++){this.colYs[m]=Math.max(o,this.colYs[m])}};d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var g={height:this.maxY};if(this.options.isFitWidth){g.width=this._getContainerFitWidth()}return g};d.prototype._getContainerFitWidth=function(){var h=0;var g=this.cols;while(--g){if(this.colYs[g]!==0){break}h++}return(this.cols-h)*this.columnWidth-this.gutter};d.prototype.resize=function(){var g=this.containerWidth;this.getContainerWidth();if(g===this.containerWidth){return}this.layout()};return d}if(typeof define==="function"&&define.amd){define(["outlayer/outlayer","get-size/get-size"],a)}else{c.Masonry=a(c.Outlayer,c.getSize)}})(window);(function(bl){var aT;var bc=0;var a3={};var n=+new Date+"";var ai=75;var aa=/\b__p \+= '';/g,b2=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var bi=/&(?:amp|lt|gt|quot|#39);/g;var P=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var o=/\w*$/;var bL=/<%=([\s\S]+?)%>/g;var ao=/($^)/;var bn=/[&<>"']/g;var b0=/['\n\r\t\u2028\u2029\\]/g;var bf=0;var bj="[object Arguments]",aY="[object Array]",H="[object Boolean]",bu="[object Date]",bN="[object Error]",a="[object Function]",br="[object Number]",au="[object Object]",aJ="[object RegExp]",bm="[object String]";var bT={"boolean":false,"function":true,object:true,number:false,string:false,"undefined":false};var bx={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"};var aZ=bT[typeof exports]&&exports;var b=bT[typeof module]&&module&&module.exports==aZ&&module;var O=bT[typeof global]&&global;if(O&&(O.global===O||O.window===O)){bl=O}function aH(ca,b9,b7){var b6=(b7||0)-1,b8=ca.length;while(++b6<b8){if(ca[b6]===b9){return b6}}return -1}function a1(b8,b7){var b6=b8.index,b9=b7.index;b8=b8.criteria;b7=b7.criteria;if(b8!==b7){if(b8>b7||typeof b8=="undefined"){return 1}if(b8<b7||typeof b7=="undefined"){return -1}}return b6<b9?-1:1}function bX(b6){return"\\"+bx[b6]}function d(){}var be=[];var bJ=Object.prototype,w=String.prototype;var bR=bl._;var a7=RegExp("^"+String(bJ.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");var Q=Math.ceil,a0=bl.clearTimeout,aN=be.concat,bK=Math.floor,U=bJ.hasOwnProperty,r=be.push,k=bJ.propertyIsEnumerable,S=bl.setTimeout,u=bJ.toString;var bb=a7.test(bb=u.bind)&&bb,q=a7.test(q=Object.create)&&q,ak=a7.test(ak=Array.isArray)&&ak,E=bl.isFinite,aK=bl.isNaN,bp=a7.test(bp=Object.keys)&&bp,bq=Math.max,j=Math.min,aQ=Math.random,C=be.slice;var V=a7.test(bl.attachEvent),m=bb&&!/\n|true/.test(bb+V);function M(b6){return(b6 instanceof M)?b6:new bM(b6)}function bM(b6){this.__wrapped__=b6}bM.prototype=M.prototype;var A={};(function(){var b6={"0":1,length:1};A.fastBind=bb&&!m;A.spliceObjects=(be.splice.call(b6,0,1),!b6[0])}(1));M.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:bL,variable:""};function I(b8,cb,ca,cd){var cc=s(b8),b6=!ca,ce=cb;if(b6){var b7=cd;ca=cb}else{if(!cc){if(!cd){throw new TypeError}cb=b8}}function b9(){var ch=arguments,cg=b6?this:cb;if(!cc){b8=cb[ce]}if(ca.length){ch=ch.length?(ch=C.call(ch),b7?ch.concat(ca):ca.concat(ch)):ca}if(this instanceof b9){cg=aj(b8.prototype);var cf=b8.apply(cg,ch);return b4(cf)?cf:cg}return b8.apply(cg,ch)}return b9}function aj(b6){return b4(b6)?q(b6):{}}if(!q){var aj=function(b7){if(b4(b7)){d.prototype=b7;var b6=new d;d.prototype=null}return b6||{}}}function ar(b6){return L[b6]}function ba(b9,b8,b7){var b6=(b6=M.indexOf)===bZ?aH:b6;return b6}function at(b6){return a2[b6]}function Z(b6){return u.call(b6)==bj}if(!Z(arguments)){Z=function(b6){return b6?U.call(b6,"callee"):false}}var aI=ak||function(b6){return b6?(typeof b6=="object"&&u.call(b6)==aY):false};var ah=function(b8){var b7,b9=b8,b6=[];if(!b9){return b6}if(!(bT[typeof b8])){return b6}for(b7 in b9){if(U.call(b9,b7)){b6.push(b7)}}return b6};var bh=!bp?ah:function(b6){if(!b4(b6)){return[]}return bp(b6)};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var a2=bd(L);function ax(b7){if(!b7){return b7}for(var b6=1,b9=arguments.length;b6<b9;b6++){var ca=arguments[b6];if(ca){for(var b8 in ca){b7[b8]=ca[b8]}}}return b7}function bE(b6){return b4(b6)?(aI(b6)?C.call(b6):ax({},b6)):b6}function ay(b7){if(!b7){return b7}for(var b6=1,b9=arguments.length;b6<b9;b6++){var ca=arguments[b6];if(ca){for(var b8 in ca){if(b7[b8]==null){b7[b8]=ca[b8]}}}}return b7}var e=function(b9,ca){var b7,b8=b9,b6=b8;if(!b8){return b6}if(!bT[typeof b8]){return b6}for(b7 in b8){if(ca(b8[b7],b7,b9)===a3){return b6}}return b6};var aU=function(b9,ca){var b7,b8=b9,b6=b8;if(!b8){return b6}if(!bT[typeof b8]){return b6}for(b7 in b8){if(U.call(b8,b7)){if(ca(b8[b7],b7,b9)===a3){return b6}}}return b6};function bI(b7){var b6=[];e(b7,function(b9,b8){if(s(b9)){b6.push(b8)}});return b6.sort()}function bS(b6,b7){return b6?U.call(b6,b7):false}function bd(b8){var b7=-1,ca=bh(b8),cb=ca.length,b6={};while(++b7<cb){var b9=ca[b7];b6[b8[b9]]=b9}return b6}function aO(b6){return b6===true||b6===false||u.call(b6)==H}function ad(b6){return b6?(typeof b6=="object"&&u.call(b6)==bu):false}function a8(b6){return b6?b6.nodeType===1:false}function bw(b7){if(!b7){return true}if(aI(b7)||bB(b7)){return !b7.length}for(var b6 in b7){if(U.call(b7,b6)){return false}}return true}function a9(cf,cd,b8,b7){if(cf===cd){return cf!==0||(1/cf==1/cd)}var cb=typeof cf,cg=typeof cd;if(cf===cf&&(!cf||(cb!="function"&&cb!="object"))&&(!cd||(cg!="function"&&cg!="object"))){return false}if(cf==null||cd==null){return cf===cd}var ca=u.call(cf),ch=u.call(cd);if(ca!=ch){return false}switch(ca){case H:case bu:return +cf==+cd;case br:return cf!=+cf?cd!=+cd:(cf==0?(1/cf==1/cd):cf==+cd);case aJ:case bm:return cf==String(cd)}var b9=ca==aY;if(!b9){if(cf instanceof M||cd instanceof M){return a9(cf.__wrapped__||cf,cd.__wrapped__||cd,b8,b7)}if(ca!=au){return false}var ce=cf.constructor,cc=cd.constructor;if(ce!=cc&&!(s(ce)&&ce instanceof ce&&s(cc)&&cc instanceof cc)){return false}}b8||(b8=[]);b7||(b7=[]);var b6=b8.length;while(b6--){if(b8[b6]==cf){return b7[b6]==cd}}var cj=true,ci=0;b8.push(cf);b7.push(cd);if(b9){ci=cd.length;cj=ci==cf.length;if(cj){while(ci--){if(!(cj=a9(cf[ci],cd[ci],b8,b7))){break}}}return cj}e(cd,function(cm,cl,ck){if(U.call(ck,cl)){ci++;return !(cj=U.call(cf,cl)&&a9(cf[cl],cm,b8,b7))&&a3}});if(cj){e(cf,function(cm,cl,ck){if(U.call(ck,cl)){return !(cj=--ci>-1)&&a3}})}return cj}function F(b6){return E(b6)&&!aK(parseFloat(b6))}function s(b6){return typeof b6=="function"}if(s(/x/)){s=function(b6){return typeof b6=="function"&&u.call(b6)==a}}function b4(b6){return !!(b6&&bT[typeof b6])}function aW(b6){return aw(b6)&&b6!=+b6}function bW(b6){return b6===null}function aw(b6){return typeof b6=="number"||u.call(b6)==br}function bO(b6){return !!(b6&&bT[typeof b6])&&u.call(b6)==aJ}function bB(b6){return typeof b6=="string"||u.call(b6)==bm}function a5(b6){return typeof b6=="undefined"}function by(b7){var b9=ba(),b8=aN.apply(be,C.call(arguments,1)),b6={};e(b7,function(cb,ca){if(b9(b8,ca)<0){b6[ca]=cb}});return b6}function aE(b8){var b7=-1,ca=bh(b8),cb=ca.length,b6=Array(cb);while(++b7<cb){var b9=ca[b7];b6[b7]=[b9,b8[b9]]}return b6}function aR(b8){var b7=-1,b9=aN.apply(be,C.call(arguments,1)),ca=b9.length,b6={};while(++b7<ca){var cb=b9[b7];if(cb in b8){b6[cb]=b8[cb]}}return b6}function aB(b8){var b7=-1,b9=bh(b8),ca=b9.length,b6=Array(ca);while(++b7<ca){b6[b7]=b8[b9[b7]]}return b6}function Y(ca,b9){var b7=ba(),b8=ca?ca.length:0,b6=false;if(b8&&typeof b8=="number"){b6=b7(ca,b9)>-1}else{aU(ca,function(cb){return(b6=cb===b9)&&a3})}return b6}function aP(b8,b9,b7){var b6={};b9=z(b9,b7);aG(b8,function(cb,ca,cc){ca=String(b9(cb,ca,cc));(U.call(b6,ca)?b6[ca]++:b6[ca]=1)});return b6}function t(ca,cb,b7){var b6=true;cb=z(cb,b7);var b8=-1,b9=ca?ca.length:0;if(typeof b9=="number"){while(++b8<b9){if(!(b6=!!cb(ca[b8],b8,ca))){break}}}else{aU(ca,function(cd,cc,ce){return !(b6=!!cb(cd,cc,ce))&&a3})}return b6}function aV(cb,cc,b7){var b6=[];cc=z(cc,b7);var b8=-1,b9=cb?cb.length:0;if(typeof b9=="number"){while(++b8<b9){var ca=cb[b8];if(cc(ca,b8,cb)){b6.push(ca)}}}else{aU(cb,function(ce,cd,cf){if(cc(ce,cd,cf)){b6.push(ce)}})}return b6}function aM(cb,cc,b7){cc=z(cc,b7);var b8=-1,b9=cb?cb.length:0;if(typeof b9=="number"){while(++b8<b9){var ca=cb[b8];if(cc(ca,b8,cb)){return ca}}}else{var b6;aU(cb,function(ce,cd,cf){if(cc(ce,cd,cf)){b6=ce;return a3}});return b6}}function D(b6,b7){return f(b6,b7,true)}function aG(b9,ca,b6){var b7=-1,b8=b9?b9.length:0;ca=ca&&typeof b6=="undefined"?ca:z(ca,b6);if(typeof b8=="number"){while(++b7<b8){if(ca(b9[b7],b7,b9)===a3){break}}}else{aU(b9,ca)}}function av(b8,b9,b7){var b6={};b9=z(b9,b7);aG(b8,function(cb,ca,cc){ca=String(b9(cb,ca,cc));(U.call(b6,ca)?b6[ca]:b6[ca]=[]).push(cb)});return b6}function B(cc,b7){var b9=C.call(arguments,2),b8=-1,cb=typeof b7=="function",ca=cc?cc.length:0,b6=Array(typeof ca=="number"?ca:0);aG(cc,function(cd){b6[++b8]=(cb?b7:cd[b7]).apply(cd,b9)});return b6}function ap(ca,cb,b7){var b8=-1,b9=ca?ca.length:0;cb=z(cb,b7);if(typeof b9=="number"){var b6=Array(b9);while(++b8<b9){b6[b8]=cb(ca[b8],b8,ca)}}else{b6=[];aU(ca,function(cd,cc,ce){b6[++b8]=cb(cd,cc,ce)})}return b6}function am(cc,cd,b7){var ca=-Infinity,b6=ca;var b8=-1,b9=cc?cc.length:0;if(!cd&&typeof b9=="number"){while(++b8<b9){var cb=cc[b8];if(cb>b6){b6=cb}}}else{cd=z(cd,b7);aG(cc,function(cf,ce,ch){var cg=cd(cf,ce,ch);if(cg>ca){ca=cg;b6=cf}})}return b6}function bt(cc,cd,b7){var ca=Infinity,b6=ca;var b8=-1,b9=cc?cc.length:0;if(!cd&&typeof b9=="number"){while(++b8<b9){var cb=cc[b8];if(cb<b6){b6=cb}}}else{cd=z(cd,b7);aG(cc,function(cf,ce,ch){var cg=cd(cf,ce,ch);if(cg<ca){ca=cg;b6=cf}})}return b6}function b3(ca,b9){var b7=-1,b8=ca?ca.length:0;if(typeof b8=="number"){var b6=Array(b8);while(++b7<b8){b6[b7]=ca[b7][b9]}}return b6||ap(ca,b9)}function bv(cb,cc,b7,b6){if(!cb){return b7}var b9=arguments.length<3;cc=z(cc,b6,4);var b8=-1,ca=cb.length;if(typeof ca=="number"){if(b9){b7=cb[++b8]}while(++b8<ca){b7=cc(b7,cb[b8],b8,cb)}}else{aU(cb,function(ce,cd,cf){b7=b9?(b9=false,ce):cc(b7,ce,cd,cf)})}return b7}function bP(cc,cd,b7,b6){var cb=cc,ca=cc?cc.length:0,b9=arguments.length<3;if(typeof ca!="number"){var b8=bh(cc);ca=b8.length}cd=z(cd,b6,4);aG(cc,function(cf,ce,cg){ce=b8?b8[--ca]:--ca;b7=b9?(b9=false,cb[ce]):cd(b7,cb[ce],ce,cg)});return b7}function v(b7,b8,b6){b8=z(b8,b6);return aV(b7,function(ca,b9,cb){return !b8(ca,b9,cb)})}function aC(b9){var b7=-1,b8=b9?b9.length:0,b6=Array(typeof b8=="number"?b8:0);aG(b9,function(cb){var ca=bK(aQ()*(++b7+1));b6[b7]=b6[ca];b6[ca]=cb});return b6}function ac(b7){var b6=b7?b7.length:0;return typeof b6=="number"?b6:bh(b7).length}function ab(ca,cb,b7){var b6;cb=z(cb,b7);var b8=-1,b9=ca?ca.length:0;if(typeof b9=="number"){while(++b8<b9){if((b6=cb(ca[b8],b8,ca))){break}}}else{aU(ca,function(cd,cc,ce){return(b6=cb(cd,cc,ce))&&a3})}return !!b6}function ae(ca,cb,b7){var b8=-1,b9=ca?ca.length:0,b6=Array(typeof b9=="number"?b9:0);cb=z(cb,b7);aG(ca,function(cd,cc,ce){b6[++b8]={criteria:cb(cd,cc,ce),index:b8,value:cd}});b9=b6.length;b6.sort(a1);while(b9--){b6[b9]=b6[b9].value}return b6}function y(b6){if(aI(b6)){return C.call(b6)}if(b6&&typeof b6.length=="number"){return ap(b6)}return aB(b6)}function f(b8,b6,b7){return(b7&&bw(b6))?null:(b7?aM:aV)(b8,b6)}function G(ca){var b7=-1,b8=ca?ca.length:0,b6=[];while(++b7<b8){var b9=ca[b7];if(b9){b6.push(b9)}}return b6}function c(cc){var b7=-1,b9=ba(),ca=cc.length,b8=aN.apply(be,C.call(arguments,1)),b6=[];while(++b7<ca){var cb=cc[b7];if(b9(b8,cb)<0){b6.push(cb)}}return b6}function al(cb,ca,b6){if(cb){var b9=0,b8=cb.length;if(typeof ca!="number"&&ca!=null){var b7=-1;ca=z(ca,b6);while(++b7<b8&&ca(cb[b7],b7,cb)){b9++}}else{b9=ca;if(b9==null||b6){return cb[0]}}return C.call(cb,0,j(bq(0,b9),b8))}}function bD(cb,b7){var b8=-1,b9=cb?cb.length:0,b6=[];while(++b8<b9){var ca=cb[b8];if(aI(ca)){r.apply(b6,b7?ca:bD(ca))}else{b6.push(ca)}}return b6}function bZ(ca,b9,b7){if(typeof b7=="number"){var b8=ca?ca.length:0;b7=(b7<0?bq(0,b8+b7):b7||0)}else{if(b7){var b6=af(ca,b9);return ca[b6]===b9?b6:-1}}return ca?aH(ca,b9,b7):-1}function b1(cb,ca,b6){if(!cb){return[]}var b9=0,b8=cb.length;if(typeof ca!="number"&&ca!=null){var b7=b8;ca=z(ca,b6);while(b7--&&ca(cb[b7],b7,cb)){b9++}}else{b9=(ca==null||b6)?1:ca||b9}return C.call(cb,0,j(bq(0,b8-b9),b8))}function bA(ca){var cb=arguments,b8=cb.length,b9=-1,cc=ba(),b7=ca?ca.length:0,ce=[];outer:while(++b9<b7){var cd=ca[b9];if(cc(ce,cd)<0){var b6=b8;while(--b6){if(cc(cb[b6],cd)<0){continue outer}}ce.push(cd)}}return ce}function az(cb,ca,b6){if(cb){var b9=0,b8=cb.length;if(typeof ca!="number"&&ca!=null){var b7=b8;ca=z(ca,b6);while(b7--&&ca(cb[b7],b7,cb)){b9++}}else{b9=ca;if(b9==null||b6){return cb[b8-1]}}return C.call(cb,bq(0,b8-b9))}}function b5(b9,b8,b7){var b6=b9?b9.length:0;if(typeof b7=="number"){b6=(b7<0?bq(0,b6+b7):j(b7,b6-1))+1}while(b6--){if(b9[b6]===b8){return b6}}return -1}function T(cb,b7,ca){cb=+cb||0;ca=+ca||1;if(b7==null){b7=cb;cb=0}var b8=-1,b9=bq(0,Q((b7-cb)/ca)),b6=Array(b9);while(++b8<b9){b6[b8]=cb;cb+=ca}return b6}function bg(cb,ca,b6){if(typeof ca!="number"&&ca!=null){var b9=0,b7=-1,b8=cb?cb.length:0;ca=z(ca,b6);while(++b7<b8&&ca(cb[b7],b7,cb)){b9++}}else{b9=(ca==null||b6)?1:bq(0,ca)}return C.call(cb,b9)}function af(cc,ca,cb,b7){var b6=0,b9=cc?cc.length:b6;cb=cb?z(cb,b7,1):an;ca=cb(ca);while(b6<b9){var b8=(b6+b9)>>>1;(cb(cc[b8])<ca)?b6=b8+1:b9=b8}return b6}function p(b6){if(!aI(b6)){arguments[0]=b6?C.call(b6):be}return aX(aN.apply(be,arguments))}function aX(cb,b8,cf,cd){var ca=-1,cc=ba(),b7=cb?cb.length:0,cg=[],b6=cg;if(typeof b8!="boolean"&&b8!=null){cd=cf;cf=b8;b8=false}if(cf!=null){b6=[];cf=z(cf,cd)}while(++ca<b7){var ce=cb[ca],b9=cf?cf(ce,ca,cb):ce;if(b8?!ca||b6[b6.length-1]!==b9:cc(b6,b9)<0){if(cf){b6.push(b9)}cg.push(ce)}}return cg}function bY(b9){var b7=-1,b8=b9?am(b3(b9,"length")):0,b6=Array(b8<0?0:b8);while(++b7<b8){b6[b7]=b3(b9,b7)}return b6}function bV(b6){return c(b6,C.call(arguments,1))}function l(b9){var b7=-1,b8=b9?am(b3(arguments,"length")):0,b6=Array(b8<0?0:b8);while(++b7<b8){b6[b7]=b3(arguments,b7)}return b6}function bF(cb,b7){var b8=-1,ca=cb?cb.length:0,b6={};while(++b8<ca){var b9=cb[b8];if(b7){b6[b9]=b7[b8]}else{b6[b9[0]]=b9[1]}}return b6}function K(b7,b6){if(b7<1){return b6()}return function(){if(--b7<1){return b6.apply(this,arguments)}}}function a6(b7,b6){return A.fastBind||(bb&&arguments.length>2)?bb.call.apply(bb,arguments):I(b7,b6,C.call(arguments,2))}function aA(b8){var b6=arguments.length>1?aN.apply(be,C.call(arguments,1)):bI(b8),b7=-1,ca=b6.length;while(++b7<ca){var b9=b6[b7];b8[b9]=a6(b8[b9],b8)}return b8}function bH(){var b6=arguments;return function(){var b7=arguments,b8=b6.length;while(b8--){b7=[b6[b8].apply(this,b7)]}return b7[0]}}function z(b9,b6,ca){if(b9==null){return an}var b8=typeof b9;if(b8!="function"){if(b8!="object"){return function(cb){return cb[b9]}}var b7=bh(b9);return function(cc){var cd=b7.length,cb=false;while(cd--){if(!(cb=cc[b7[cd]]===b9[b7[cd]])){break}}return cb}}if(typeof b6=="undefined"){return b9}if(ca===1){return function(cb){return b9.call(b6,cb)}}if(ca===2){return function(cc,cb){return b9.call(b6,cc,cb)}}if(ca===4){return function(cb,cd,cc,ce){return b9.call(b6,cb,cd,cc,ce)}}return function(cc,cb,cd){return b9.call(b6,cc,cb,cd)}}function bG(cb,cc,b8){var ca,b6,b7,cd=null;function b9(){cd=null;if(!b8){b6=cb.apply(b7,ca)}}return function(){var ce=b8&&!cd;ca=arguments;b7=this;a0(cd);cd=S(b9,cc);if(ce){b6=cb.apply(b7,ca)}return b6}}function W(b7){var b6=C.call(arguments,1);return S(function(){b7.apply(aT,b6)},1)}function aS(b7,b8){var b6=C.call(arguments,2);return S(function(){b7.apply(aT,b6)},b8)}function X(b7,b8){var b6={};return function(){var b9=n+(b8?b8.apply(this,arguments):arguments[0]);return U.call(b6,b9)?b6[b9]:(b6[b9]=b7.apply(this,arguments))}}function bz(b8){var b7,b6;return function(){if(b7){return b6}b7=true;b6=b8.apply(this,arguments);b8=null;return b6}}function bQ(b6){return I(b6,C.call(arguments,1))}function bs(cb,cc){var b9,b6,b7,b8=0,cd=null;function ca(){b8=new Date;cd=null;b6=cb.apply(b7,b9)}return function(){var ce=new Date,cf=cc-(ce-b8);b9=arguments;b7=this;if(cf<=0){a0(cd);cd=null;b8=ce;b6=cb.apply(b7,b9)}else{if(!cd){cd=S(ca,cf)}}return b6}}function a4(b6,b7){return function(){var b8=[b6];r.apply(b8,arguments);return b7.apply(this,b8)}}function ag(b6){return b6==null?"":String(b6).replace(bn,ar)}function an(b6){return b6}function x(b6){aG(bI(b6),function(b7){var b8=M[b7]=b6[b7];M.prototype[b7]=function(){var ca=[this.__wrapped__];r.apply(ca,arguments);var b9=b8.apply(M,ca);if(this.__chain__){b9=new bM(b9);b9.__chain__=true}return b9}})}function bU(){bl._=bR;return this}function bk(b7,b6){if(b7==null&&b6==null){b6=1}b7=+b7||0;if(b6==null){b6=b7;b7=0}else{b6=+b6||0}var b8=aQ();return(b7%1||b6%1)?b7+j(b8*(b6-b7+parseFloat("1e-"+((b8+"").length-1))),b6):b7+bK(b8*(b6-b7+1))}function J(b6,b8){var b7=b6?b6[b8]:null;return s(b7)?b6[b8]():b7}function aL(cc,b9,cf){var b7=M.templateSettings;cc||(cc="");cf=ay({},cf,b7);var ca=0,b6="__p += '",b8=cf.variable;var ce=RegExp((cf.escape||ao).source+"|"+(cf.interpolate||ao).source+"|"+(cf.evaluate||ao).source+"|$","g");cc.replace(ce,function(cg,cj,ch,ci,ck){b6+=cc.slice(ca,ck).replace(b0,bX);if(cj){b6+="' +\n_.escape("+cj+") +\n'"}if(ci){b6+="';\n"+ci+";\n__p += '"}if(ch){b6+="' +\n((__t = ("+ch+")) == null ? '' : __t) +\n'"}ca=ck+cg.length;return cg});b6+="';\n";if(!b8){b8="obj";b6="with ("+b8+" || {}) {\n"+b6+"\n}\n"}b6="function("+b8+") {\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"+b6+"return __p\n}";try{var cd=Function("_","return "+b6)(M)}catch(cb){cb.source=b6;throw cb}if(b9){return cd(b9)}cd.source=b6;return cd}function g(ca,b9,b7){var b8=-1,b6=Array(ca>-1?ca:0);while(++b8<ca){b6[b8]=b9.call(b7,b8)}return b6}function h(b6){return b6==null?"":String(b6).replace(bi,at)}function bo(b6){var b7=++bc+"";return b6?b6+b7:b7}function aD(b6){b6=new bM(b6);b6.__chain__=true;return b6}function bC(b6,b7){b7(b6);return b6}function aF(){this.__chain__=true;return this}function aq(){return String(this.__wrapped__)}function N(){return this.__wrapped__}M.after=K;M.bind=a6;M.bindAll=aA;M.compact=G;M.compose=bH;M.countBy=aP;M.debounce=bG;M.defaults=ay;M.defer=W;M.delay=aS;M.difference=c;M.filter=aV;M.flatten=bD;M.forEach=aG;M.functions=bI;M.groupBy=av;M.initial=b1;M.intersection=bA;M.invert=bd;M.invoke=B;M.keys=bh;M.map=ap;M.max=am;M.memoize=X;M.min=bt;M.omit=by;M.once=bz;M.pairs=aE;M.partial=bQ;M.pick=aR;M.pluck=b3;M.range=T;M.reject=v;M.rest=bg;M.shuffle=aC;M.sortBy=ae;M.tap=bC;M.throttle=bs;M.times=g;M.toArray=y;M.union=p;M.uniq=aX;M.values=aB;M.where=f;M.without=bV;M.wrap=a4;M.zip=l;M.collect=ap;M.drop=bg;M.each=aG;M.extend=ax;M.methods=bI;M.object=bF;M.select=aV;M.tail=bg;M.unique=aX;M.chain=aD;M.clone=bE;M.contains=Y;M.escape=ag;M.every=t;M.find=aM;M.has=bS;M.identity=an;M.indexOf=bZ;M.isArguments=Z;M.isArray=aI;M.isBoolean=aO;M.isDate=ad;M.isElement=a8;M.isEmpty=bw;M.isEqual=a9;M.isFinite=F;M.isFunction=s;M.isNaN=aW;M.isNull=bW;M.isNumber=aw;M.isObject=b4;M.isRegExp=bO;M.isString=bB;M.isUndefined=a5;M.lastIndexOf=b5;M.mixin=x;M.noConflict=bU;M.random=bk;M.reduce=bv;M.reduceRight=bP;M.result=J;M.size=ac;M.some=ab;M.sortedIndex=af;M.template=aL;M.unescape=h;M.uniqueId=bo;M.all=t;M.any=ab;M.detect=aM;M.findWhere=D;M.foldl=bv;M.foldr=bP;M.include=Y;M.inject=bv;M.first=al;M.last=az;M.take=al;M.head=al;M.VERSION="1.3.1";x(M);M.prototype.chain=aF;M.prototype.value=N;aG(["pop","push","reverse","shift","sort","splice","unshift"],function(b6){var b7=be[b6];M.prototype[b6]=function(){var b8=this.__wrapped__;b7.apply(b8,arguments);if(!A.spliceObjects&&b8.length===0){delete b8[0]}return this}});aG(["concat","join","slice"],function(b6){var b7=be[b6];M.prototype[b6]=function(){var b9=this.__wrapped__,b8=b7.apply(b9,arguments);if(this.__chain__){b8=new bM(b8);b8.__chain__=true}return b8}});if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){bl._=M;define(function(){return M})}else{if(aZ&&!aZ.nodeType){if(b){(b.exports=M)._=M}else{aZ._=M}}else{bl._=M}}}(this));(function(){if(!Array.prototype.forEach){Array.prototype.forEach=function(e,d){for(var c=0,b=this.length;c<b;++c){e.call(d||this,this[c],c,this)}}}Function.prototype.bind=(function(){var b=Array.prototype.slice;return function(d){var e=this,c=b.call(arguments,1);if(c.length){return function(){return arguments.length?e.apply(d,b.call(arguments).concat(c)):e.apply(d,c)}}return function(){return arguments.length?e.apply(d,arguments):e.call(d)}}})();String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.unparam=function(){var f={},d=this.replace("?","").split("&"),e,c,b;for(c=0,b=d.length;c<b;c++){e=d[c].split("=",2);f[decodeURIComponent(e[0])]=(e.length==2?decodeURIComponent(e[1].replace(/\+/g," ")):true)}return f};jQuery.unparam=function(b){return b.unparam()};(function(){var b=false,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(h){var g=this.prototype;b=true;var f=new this();b=false;for(var e in h){f[e]=typeof h[e]=="function"&&typeof g[e]=="function"&&c.test(h[e])?(function(j,k){return function(){var m=this._super;this._super=g[j];var l=k.apply(this,arguments);this._super=m;return l}})(e,h[e]):h[e]}function d(){if(!b&&this._construct){this._construct.apply(this,arguments)}}d.prototype=f;d.constructor=d;d.extend=arguments.callee;return d}})();$empty=function(){};$returnTrue=function(){return true};String.format=function(){var d=arguments[0];for(var b=0;b<arguments.length-1;b++){var c=new RegExp("\\{"+b+"\\}","gm");d=d.replace(c,arguments[b+1])}return d};$.fn.clearForm=function(){return this.each(function(){$(this).data("validator").resetForm();$(":input",this).each(function(){var d=this.type,b=this.tagName.toLowerCase();if(d=="text"||d=="password"||b=="textarea"){this.value=""}else{if(d=="checkbox"||d=="radio"){this.checked=false;elm=$(this).parent();if($(this).is(":checked")){elm.addClass("checked")}else{elm.removeClass("checked")}}else{if(b=="select"){this.selectedIndex=-1;var c=$(this).attr("id");$(this).prev().text($(c+" :selected").text())}}}})})};function a(f){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";var d="";for(var c=0;c<f;c++){var b=Math.floor(Math.random()*e.length);d+=e.substring(b,b+1)}return d}$log=function(b){try{if(arguments.length>1){console.dir(arguments)}else{console.log(arguments[0])}}catch(c){}};$dir=function(b){try{console.dir(arguments)}catch(c){}}}());(function(a){window.MBP=window.MBP||{};MBP.viewportmeta=a.querySelector&&a.querySelector('meta[name="viewport"]');MBP.ua=navigator.userAgent;MBP.scaleFix=function(){if(MBP.viewportmeta&&/iPhone|iPad|iPod/.test(MBP.ua)&&!/Opera Mini/.test(MBP.ua)){MBP.viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0";a.addEventListener("gesturestart",MBP.gestureStart,false)}};MBP.gestureStart=function(){MBP.viewportmeta.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"};MBP.BODY_SCROLL_TOP=false;MBP.getScrollTop=function(){var e=window;var d=a;return e.pageYOffset||d.compatMode==="CSS1Compat"&&d.documentElement.scrollTop||d.body.scrollTop||0};MBP.hideUrlBar=function(){var d=window;if(!location.hash&&MBP.BODY_SCROLL_TOP!==false){d.scrollTo(0,MBP.BODY_SCROLL_TOP===1?0:1)}};MBP.hideUrlBarOnLoad=function(){var f=window;var e=f.document;var d;if(!location.hash&&f.addEventListener){window.scrollTo(0,1);MBP.BODY_SCROLL_TOP=1;d=setInterval(function(){if(e.body){clearInterval(d);MBP.BODY_SCROLL_TOP=MBP.getScrollTop();MBP.hideUrlBar()}},15);f.addEventListener("load",function(){setTimeout(function(){if(MBP.getScrollTop()<20){MBP.hideUrlBar()}},0)})}};MBP.fastButton=function(e,f,d){this.handler=f;this.pressedClass=typeof d==="undefined"?"pressed":d;MBP.listenForGhostClicks();if(e.length&&e.length>1){for(var g in e){this.addClickEvent(e[g])}}else{this.addClickEvent(e)}};MBP.fastButton.prototype.handleEvent=function(d){d=d||window.event;switch(d.type){case"touchstart":this.onTouchStart(d);break;case"touchmove":this.onTouchMove(d);break;case"touchend":this.onClick(d);break;case"click":this.onClick(d);break}};MBP.fastButton.prototype.onTouchStart=function(e){var d=e.target||e.srcElement;e.stopPropagation();d.addEventListener("touchend",this,false);a.body.addEventListener("touchmove",this,false);this.startX=e.touches[0].clientX;this.startY=e.touches[0].clientY;d.className+=" "+this.pressedClass};MBP.fastButton.prototype.onTouchMove=function(d){if(Math.abs(d.touches[0].clientX-this.startX)>10||Math.abs(d.touches[0].clientY-this.startY)>10){this.reset(d)}};MBP.fastButton.prototype.onClick=function(e){e=e||window.event;var d=e.target||e.srcElement;if(e.stopPropagation){e.stopPropagation()}this.reset(e);this.handler.apply(e.currentTarget,[e]);if(e.type=="touchend"){MBP.preventGhostClick(this.startX,this.startY)}var f=new RegExp(" ?"+this.pressedClass,"gi");d.className=d.className.replace(f,"")};MBP.fastButton.prototype.reset=function(e){var d=e.target||e.srcElement;b(d,"touchend",this,false);b(a.body,"touchmove",this,false);var f=new RegExp(" ?"+this.pressedClass,"gi");d.className=d.className.replace(f,"")};MBP.fastButton.prototype.addClickEvent=function(d){c(d,"touchstart",this,false);c(d,"click",this,false)};MBP.preventGhostClick=function(d,e){MBP.coords.push(d,e);window.setTimeout(function(){MBP.coords.splice(0,2)},2500)};MBP.ghostClickHandler=function(g){if(!MBP.hadTouchEvent&&MBP.dodgyAndroid){g.stopPropagation();g.preventDefault();return}for(var f=0,e=MBP.coords.length;f<e;f+=2){var d=MBP.coords[f];var h=MBP.coords[f+1];if(Math.abs(g.clientX-d)<25&&Math.abs(g.clientY-h)<25){g.stopPropagation();g.preventDefault()}}};MBP.dodgyAndroid=("ontouchstart" in window)&&(navigator.userAgent.indexOf("Android 2.3")!=-1);MBP.listenForGhostClicks=(function(){var d=false;return function(){if(d){return}if(a.addEventListener){a.addEventListener("click",MBP.ghostClickHandler,true)}c(a.documentElement,"touchstart",function(){MBP.hadTouchEvent=true},false);d=true}})();MBP.coords=[];function c(h,f,g,d){if("addEventListener" in h){try{h.addEventListener(f,g,d)}catch(j){if(typeof g=="object"&&g.handleEvent){h.addEventListener(f,function(k){g.handleEvent.call(g,k)},d)}else{throw j}}}else{if("attachEvent" in h){if(typeof g=="object"&&g.handleEvent){h.attachEvent("on"+f,function(){g.handleEvent.call(g)})}else{h.attachEvent("on"+f,g)}}}}function b(h,f,g,d){if("removeEventListener" in h){try{h.removeEventListener(f,g,d)}catch(j){if(typeof g=="object"&&g.handleEvent){h.removeEventListener(f,function(k){g.handleEvent.call(g,k)},d)}else{throw j}}}else{if("detachEvent" in h){if(typeof g=="object"&&g.handleEvent){h.detachEvent("on"+f,function(){g.handleEvent.call(g)})}else{h.detachEvent("on"+f,g)}}}}MBP.autogrow=function(f,d){function g(k){var j=this.scrollHeight;var l=this.clientHeight;if(j>l){this.style.height=j+3*h+"px"}}var e=(d)?d:12;var h=f.currentStyle?f.currentStyle.lineHeight:getComputedStyle(f,null).lineHeight;h=(h.indexOf("px")==-1)?e:parseInt(h,10);f.style.overflow="hidden";f.addEventListener?f.addEventListener("input",g,false):f.attachEvent("onpropertychange",g)};MBP.enableActive=function(){a.addEventListener("touchstart",function(){},false)};MBP.preventScrolling=function(){a.addEventListener("touchmove",function(d){if(d.target.type==="range"){return}d.preventDefault()},false)};MBP.preventZoom=function(){var f=a.querySelectorAll("input, select, textarea");var j="width=device-width,initial-scale=1,maximum-scale=";var d=0;var h=f.length;var g=function(){MBP.viewportmeta.content=j+"1"};var e=function(){MBP.viewportmeta.content=j+"10"};for(;d<h;d++){f[d].onfocus=g;f[d].onblur=e}};MBP.startupImage=function(){var j;var g;var h;var f;var e;var d;h=window.devicePixelRatio;f=a.getElementsByTagName("head")[0];if(navigator.platform==="iPad"){j=h===2?"img/startup/startup-tablet-portrait-retina.png":"img/startup/startup-tablet-portrait.png";g=h===2?"img/startup/startup-tablet-landscape-retina.png":"img/startup/startup-tablet-landscape.png";e=a.createElement("link");e.setAttribute("rel","apple-touch-startup-image");e.setAttribute("media","screen and (orientation: portrait)");e.setAttribute("href",j);f.appendChild(e);d=a.createElement("link");d.setAttribute("rel","apple-touch-startup-image");d.setAttribute("media","screen and (orientation: landscape)");d.setAttribute("href",g);f.appendChild(d)}else{j=h===2?"img/startup/startup-retina.png":"img/startup/startup.png";j=screen.height===568?"img/startup/startup-retina-4in.png":j;e=a.createElement("link");e.setAttribute("rel","apple-touch-startup-image");e.setAttribute("href",j);f.appendChild(e)}if((navigator.platform==="iPhone"||"iPod")&&(screen.height===568)){if(MBP.viewportmeta){MBP.viewportmeta.content=MBP.viewportmeta.content.replace(/\bwidth\s*=\s*320\b/,"width=320.1").replace(/\bwidth\s*=\s*device-width\b/,"")}}}})(document);(function(a){a.flexslider=function(f,r){var c=a(f);c.vars=a.extend({},a.flexslider.defaults,r);var k=c.vars.namespace,e=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,l=(("ontouchstart" in window)||e||window.DocumentTouch&&document instanceof DocumentTouch)&&c.vars.touch,d="click touchend MSPointerUp",b="",q,j=c.vars.direction==="vertical",m=c.vars.reverse,p=(c.vars.itemWidth>0),h=c.vars.animation==="fade",n=c.vars.asNavFor!=="",g={},o=true;a.data(f,"flexslider",c);g={init:function(){c.animating=false;c.currentSlide=parseInt((c.vars.startAt?c.vars.startAt:0),10);if(isNaN(c.currentSlide)){c.currentSlide=0}c.animatingTo=c.currentSlide;c.atEnd=(c.currentSlide===0||c.currentSlide===c.last);c.containerSelector=c.vars.selector.substr(0,c.vars.selector.search(" "));c.slides=a(c.vars.selector,c);c.container=a(c.containerSelector,c);c.count=c.slides.length;c.syncExists=a(c.vars.sync).length>0;if(c.vars.animation==="slide"){c.vars.animation="swing"}c.prop=(j)?"top":"marginLeft";c.args={};c.manualPause=false;c.stopped=false;c.started=false;c.startTimeout=null;c.transitions=!c.vars.video&&!h&&c.vars.useCSS&&(function(){var u=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var s in t){if(u.style[t[s]]!==undefined){c.pfx=t[s].replace("Perspective","").toLowerCase();c.prop="-"+c.pfx+"-transform";return true}}return false}());if(c.vars.controlsContainer!==""){c.controlsContainer=a(c.vars.controlsContainer).length>0&&a(c.vars.controlsContainer)}if(c.vars.manualControls!==""){c.manualControls=a(c.vars.manualControls).length>0&&a(c.vars.manualControls)}if(c.vars.randomize){c.slides.sort(function(){return(Math.round(Math.random())-0.5)});c.container.empty().append(c.slides)}c.doMath();c.setup("init");if(c.vars.controlNav){g.controlNav.setup()}if(c.vars.directionNav){g.directionNav.setup()}if(c.vars.keyboard&&(a(c.containerSelector).length===1||c.vars.multipleKeyboard)){a(document).bind("keyup",function(t){var s=t.keyCode;if(!c.animating&&(s===39||s===37)){var u=(s===39)?c.getTarget("next"):(s===37)?c.getTarget("prev"):false;c.flexAnimate(u,c.vars.pauseOnAction)}})}if(c.vars.mousewheel){c.bind("mousewheel",function(u,w,t,s){u.preventDefault();var v=(w<0)?c.getTarget("next"):c.getTarget("prev");c.flexAnimate(v,c.vars.pauseOnAction)})}if(c.vars.pausePlay){g.pausePlay.setup()}if(c.vars.slideshow&&c.vars.pauseInvisible){g.pauseInvisible.init()}if(c.vars.slideshow){if(c.vars.pauseOnHover){c.hover(function(){if(!c.manualPlay&&!c.manualPause){c.pause()}},function(){if(!c.manualPause&&!c.manualPlay&&!c.stopped){c.play()}})}if(!c.vars.pauseInvisible||!g.pauseInvisible.isHidden()){(c.vars.initDelay>0)?c.startTimeout=setTimeout(c.play,c.vars.initDelay):c.play()}}if(n){g.asNav.setup()}if(l&&c.vars.touch){g.touch()}if(!h||(h&&c.vars.smoothHeight)){a(window).bind("resize orientationchange focus",g.resize)}c.find("img").attr("draggable","false");setTimeout(function(){c.vars.start(c)},200)},asNav:{setup:function(){c.asNav=true;c.animatingTo=Math.floor(c.currentSlide/c.move);c.currentItem=c.currentSlide;c.slides.removeClass(k+"active-slide").eq(c.currentItem).addClass(k+"active-slide");if(!e){c.slides.on(d,function(u){u.preventDefault();var t=a(this),s=t.index();var v=t.offset().left-a(c).scrollLeft();if(v<=0&&t.hasClass(k+"active-slide")){c.flexAnimate(c.getTarget("prev"),true)}else{if(!a(c.vars.asNavFor).data("flexslider").animating&&!t.hasClass(k+"active-slide")){c.direction=(c.currentItem<s)?"next":"prev";c.flexAnimate(s,c.vars.pauseOnAction,false,true,true)}}})}else{f._slider=c;c.slides.each(function(){var s=this;s._gesture=new MSGesture();s._gesture.target=s;s.addEventListener("MSPointerDown",function(t){t.preventDefault();if(t.currentTarget._gesture){t.currentTarget._gesture.addPointer(t.pointerId)}},false);s.addEventListener("MSGestureTap",function(v){v.preventDefault();var u=a(this),t=u.index();if(!a(c.vars.asNavFor).data("flexslider").animating&&!u.hasClass("active")){c.direction=(c.currentItem<t)?"next":"prev";c.flexAnimate(t,c.vars.pauseOnAction,false,true,true)}})})}}},controlNav:{setup:function(){if(!c.manualControls){g.controlNav.setupPaging()}else{g.controlNav.setupManual()}},setupPaging:function(){var v=(c.vars.controlNav==="thumbnails")?"control-thumbs":"control-paging",t=1,w,s;c.controlNavScaffold=a('<ol class="'+k+"control-nav "+k+v+'"></ol>');if(c.pagingCount>1){for(var u=0;u<c.pagingCount;u++){s=c.slides.eq(u);w=(c.vars.controlNav==="thumbnails")?'<img src="'+s.attr("data-thumb")+'"/>':"<a>"+t+"</a>";if("thumbnails"===c.vars.controlNav&&true===c.vars.thumbCaptions){var x=s.attr("data-thumbcaption");if(""!=x&&undefined!=x){w+='<span class="'+k+'caption">'+x+"</span>"}}c.controlNavScaffold.append("<li>"+w+"</li>");t++}}(c.controlsContainer)?a(c.controlsContainer).append(c.controlNavScaffold):c.append(c.controlNavScaffold);g.controlNav.set();g.controlNav.active();c.controlNavScaffold.delegate("a, img",d,function(y){y.preventDefault();if(b===""||b===y.type){var A=a(this),z=c.controlNav.index(A);if(!A.hasClass(k+"active")){c.direction=(z>c.currentSlide)?"next":"prev";c.flexAnimate(z,c.vars.pauseOnAction)}}if(b===""){b=y.type}g.setToClearWatchedEvent()})},setupManual:function(){c.controlNav=c.manualControls;g.controlNav.active();c.controlNav.bind(d,function(s){s.preventDefault();if(b===""||b===s.type){var u=a(this),t=c.controlNav.index(u);if(!u.hasClass(k+"active")){(t>c.currentSlide)?c.direction="next":c.direction="prev";c.flexAnimate(t,c.vars.pauseOnAction)}}if(b===""){b=s.type}g.setToClearWatchedEvent()})},set:function(){var s=(c.vars.controlNav==="thumbnails")?"img":"a";c.controlNav=a("."+k+"control-nav li "+s,(c.controlsContainer)?c.controlsContainer:c)},active:function(){c.controlNav.removeClass(k+"active").eq(c.animatingTo).addClass(k+"active")},update:function(s,t){if(c.pagingCount>1&&s==="add"){c.controlNavScaffold.append(a("<li><a>"+c.count+"</a></li>"))}else{if(c.pagingCount===1){c.controlNavScaffold.find("li").remove()}else{c.controlNav.eq(t).closest("li").remove()}}g.controlNav.set();(c.pagingCount>1&&c.pagingCount!==c.controlNav.length)?c.update(t,s):g.controlNav.active()}},directionNav:{setup:function(){var s=a('<ul class="'+k+'direction-nav"><li><a class="'+k+'prev" href="#">'+c.vars.prevText+'</a></li><li><a class="'+k+'next" href="#">'+c.vars.nextText+"</a></li></ul>");if(c.controlsContainer){a(c.controlsContainer).append(s);c.directionNav=a("."+k+"direction-nav li a",c.controlsContainer)}else{c.append(s);c.directionNav=a("."+k+"direction-nav li a",c)}g.directionNav.update();c.directionNav.bind(d,function(t){t.preventDefault();var u;if(b===""||b===t.type){u=(a(this).hasClass(k+"next"))?c.getTarget("next"):c.getTarget("prev");c.flexAnimate(u,c.vars.pauseOnAction)}if(b===""){b=t.type}g.setToClearWatchedEvent()})},update:function(){var s=k+"disabled";if(c.pagingCount===1){c.directionNav.addClass(s).attr("tabindex","-1")}else{if(!c.vars.animationLoop){if(c.animatingTo===0){c.directionNav.removeClass(s).filter("."+k+"prev").addClass(s).attr("tabindex","-1")}else{if(c.animatingTo===c.last){c.directionNav.removeClass(s).filter("."+k+"next").addClass(s).attr("tabindex","-1")}else{c.directionNav.removeClass(s).removeAttr("tabindex")}}}else{c.directionNav.removeClass(s).removeAttr("tabindex")}}}},pausePlay:{setup:function(){var s=a('<div class="'+k+'pauseplay"><a></a></div>');if(c.controlsContainer){c.controlsContainer.append(s);c.pausePlay=a("."+k+"pauseplay a",c.controlsContainer)}else{c.append(s);c.pausePlay=a("."+k+"pauseplay a",c)}g.pausePlay.update((c.vars.slideshow)?k+"pause":k+"play");c.pausePlay.bind(d,function(t){t.preventDefault();if(b===""||b===t.type){if(a(this).hasClass(k+"pause")){c.manualPause=true;c.manualPlay=false;c.pause()}else{c.manualPause=false;c.manualPlay=true;c.play()}}if(b===""){b=t.type}g.setToClearWatchedEvent()})},update:function(s){(s==="play")?c.pausePlay.removeClass(k+"pause").addClass(k+"play").html(c.vars.playText):c.pausePlay.removeClass(k+"play").addClass(k+"pause").html(c.vars.pauseText)}},touch:function(){var D,A,y,E,H,F,C=false,v=0,u=0,x=0;if(!e){f.addEventListener("touchstart",z,false);function z(I){if(c.animating){I.preventDefault()}else{if((window.navigator.msPointerEnabled)||I.touches.length===1){c.pause();E=(j)?c.h:c.w;F=Number(new Date());v=I.touches[0].pageX;u=I.touches[0].pageY;y=(p&&m&&c.animatingTo===c.last)?0:(p&&m)?c.limit-(((c.itemW+c.vars.itemMargin)*c.move)*c.animatingTo):(p&&c.currentSlide===c.last)?c.limit:(p)?((c.itemW+c.vars.itemMargin)*c.move)*c.currentSlide:(m)?(c.last-c.currentSlide+c.cloneOffset)*E:(c.currentSlide+c.cloneOffset)*E;D=(j)?u:v;A=(j)?v:u;f.addEventListener("touchmove",t,false);f.addEventListener("touchend",G,false)}}}function t(I){v=I.touches[0].pageX;u=I.touches[0].pageY;H=(j)?D-u:D-v;C=(j)?(Math.abs(H)<Math.abs(v-A)):(Math.abs(H)<Math.abs(u-A));var J=500;if(!C||Number(new Date())-F>J){I.preventDefault();if(!h&&c.transitions){if(!c.vars.animationLoop){H=H/((c.currentSlide===0&&H<0||c.currentSlide===c.last&&H>0)?(Math.abs(H)/E+2):1)}c.setProps(y+H,"setTouch")}}}function G(K){f.removeEventListener("touchmove",t,false);if(c.animatingTo===c.currentSlide&&!C&&!(H===null)){var J=(m)?-H:H,I=(J>0)?c.getTarget("next"):c.getTarget("prev");if(c.canAdvance(I)&&(Number(new Date())-F<550&&Math.abs(J)>50||Math.abs(J)>E/2)){c.flexAnimate(I,c.vars.pauseOnAction)}else{if(!h){c.flexAnimate(c.currentSlide,c.vars.pauseOnAction,true)}}}f.removeEventListener("touchend",G,false);D=null;A=null;H=null;y=null}}else{f.style.msTouchAction="none";f._gesture=new MSGesture();f._gesture.target=f;f.addEventListener("MSPointerDown",s,false);f._slider=c;f.addEventListener("MSGestureChange",B,false);f.addEventListener("MSGestureEnd",w,false);function s(I){I.stopPropagation();if(c.animating){I.preventDefault()}else{c.pause();f._gesture.addPointer(I.pointerId);x=0;E=(j)?c.h:c.w;F=Number(new Date());y=(p&&m&&c.animatingTo===c.last)?0:(p&&m)?c.limit-(((c.itemW+c.vars.itemMargin)*c.move)*c.animatingTo):(p&&c.currentSlide===c.last)?c.limit:(p)?((c.itemW+c.vars.itemMargin)*c.move)*c.currentSlide:(m)?(c.last-c.currentSlide+c.cloneOffset)*E:(c.currentSlide+c.cloneOffset)*E}}function B(L){L.stopPropagation();var K=L.target._slider;if(!K){return}var J=-L.translationX,I=-L.translationY;x=x+((j)?I:J);H=x;C=(j)?(Math.abs(x)<Math.abs(-J)):(Math.abs(x)<Math.abs(-I));if(L.detail===L.MSGESTURE_FLAG_INERTIA){setImmediate(function(){f._gesture.stop()});return}if(!C||Number(new Date())-F>500){L.preventDefault();if(!h&&K.transitions){if(!K.vars.animationLoop){H=x/((K.currentSlide===0&&x<0||K.currentSlide===K.last&&x>0)?(Math.abs(x)/E+2):1)}K.setProps(y+H,"setTouch")}}}function w(L){L.stopPropagation();var I=L.target._slider;if(!I){return}if(I.animatingTo===I.currentSlide&&!C&&!(H===null)){var K=(m)?-H:H,J=(K>0)?I.getTarget("next"):I.getTarget("prev");if(I.canAdvance(J)&&(Number(new Date())-F<550&&Math.abs(K)>50||Math.abs(K)>E/2)){I.flexAnimate(J,I.vars.pauseOnAction)}else{if(!h){I.flexAnimate(I.currentSlide,I.vars.pauseOnAction,true)}}}D=null;A=null;H=null;y=null;x=0}}},resize:function(){if(!c.animating&&c.is(":visible")){if(!p){c.doMath()}if(h){g.smoothHeight()}else{if(p){c.slides.width(c.computedW);c.update(c.pagingCount);c.setProps()}else{if(j){c.viewport.height(c.h);c.setProps(c.h,"setTotal")}else{if(c.vars.smoothHeight){g.smoothHeight()}c.newSlides.width(c.computedW);c.setProps(c.computedW,"setTotal")}}}}},smoothHeight:function(s){if(!j||h){var t=(h)?c:c.viewport;(s)?t.animate({height:c.slides.eq(c.animatingTo).height()},s):t.height(c.slides.eq(c.animatingTo).height())}},sync:function(s){var u=a(c.vars.sync).data("flexslider"),t=c.animatingTo;switch(s){case"animate":u.flexAnimate(t,c.vars.pauseOnAction,false,true);break;case"play":if(!u.playing&&!u.asNav){u.play()}break;case"pause":u.pause();break}},uniqueID:function(s){s.find("[id]").each(function(){var t=a(this);t.attr("id",t.attr("id")+"_clone")});return s},pauseInvisible:{visProp:null,init:function(){var u=["webkit","moz","ms","o"];if("hidden" in document){return"hidden"}for(var t=0;t<u.length;t++){if((u[t]+"Hidden") in document){g.pauseInvisible.visProp=u[t]+"Hidden"}}if(g.pauseInvisible.visProp){var s=g.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(s,function(){if(g.pauseInvisible.isHidden()){if(c.startTimeout){clearTimeout(c.startTimeout)}else{c.pause()}}else{if(c.started){c.play()}else{(c.vars.initDelay>0)?setTimeout(c.play,c.vars.initDelay):c.play()}}})}},isHidden:function(){return document[g.pauseInvisible.visProp]||false}},setToClearWatchedEvent:function(){clearTimeout(q);q=setTimeout(function(){b=""},3000)}};c.flexAnimate=function(A,B,u,w,x){if(!c.vars.animationLoop&&A!==c.currentSlide){c.direction=(A>c.currentSlide)?"next":"prev"}if(n&&c.pagingCount===1){c.direction=(c.currentItem<A)?"next":"prev"}if(!c.animating&&(c.canAdvance(A,x)||u)&&c.is(":visible")){if(n&&w){var t=a(c.vars.asNavFor).data("flexslider");c.atEnd=A===0||A===c.count-1;t.flexAnimate(A,true,false,true,x);c.direction=(c.currentItem<A)?"next":"prev";t.direction=c.direction;if(Math.ceil((A+1)/c.visible)-1!==c.currentSlide&&A!==0){c.currentItem=A;c.slides.removeClass(k+"active-slide").eq(A).addClass(k+"active-slide");A=Math.floor(A/c.visible)}else{c.currentItem=A;c.slides.removeClass(k+"active-slide").eq(A).addClass(k+"active-slide");return false}}c.animating=true;c.animatingTo=A;if(B){c.pause()}c.vars.before(c);if(c.syncExists&&!x){g.sync("animate")}if(c.vars.controlNav){g.controlNav.active()}if(!p){c.slides.removeClass(k+"active-slide").eq(A).addClass(k+"active-slide")}c.atEnd=A===0||A===c.last;if(c.vars.directionNav){g.directionNav.update()}if(A===c.last){c.vars.end(c);if(!c.vars.animationLoop){c.pause()}}if(!h){var z=(j)?c.slides.filter(":first").height():c.computedW,y,v,s;if(p){y=c.vars.itemMargin;s=((c.itemW+y)*c.move)*c.animatingTo;v=(s>c.limit&&c.visible!==1)?c.limit:s}else{if(c.currentSlide===0&&A===c.count-1&&c.vars.animationLoop&&c.direction!=="next"){v=(m)?(c.count+c.cloneOffset)*z:0}else{if(c.currentSlide===c.last&&A===0&&c.vars.animationLoop&&c.direction!=="prev"){v=(m)?0:(c.count+1)*z}else{v=(m)?((c.count-1)-A+c.cloneOffset)*z:(A+c.cloneOffset)*z}}}c.setProps(v,"",c.vars.animationSpeed);if(c.transitions){if(!c.vars.animationLoop||!c.atEnd){c.animating=false;c.currentSlide=c.animatingTo}c.container.unbind("webkitTransitionEnd transitionend");c.container.bind("webkitTransitionEnd transitionend",function(){c.wrapup(z)})}else{c.container.animate(c.args,c.vars.animationSpeed,c.vars.easing,function(){c.wrapup(z)})}}else{if(!l){c.slides.eq(c.currentSlide).css({zIndex:1}).animate({opacity:0},c.vars.animationSpeed,c.vars.easing);c.slides.eq(A).css({zIndex:2}).animate({opacity:1},c.vars.animationSpeed,c.vars.easing,c.wrapup)}else{c.slides.eq(c.currentSlide).css({opacity:0,zIndex:1});c.slides.eq(A).css({opacity:1,zIndex:2});c.wrapup(z)}}if(c.vars.smoothHeight){g.smoothHeight(c.vars.animationSpeed)}}};c.wrapup=function(s){if(!h&&!p){if(c.currentSlide===0&&c.animatingTo===c.last&&c.vars.animationLoop){c.setProps(s,"jumpEnd")}else{if(c.currentSlide===c.last&&c.animatingTo===0&&c.vars.animationLoop){c.setProps(s,"jumpStart")}}}c.animating=false;c.currentSlide=c.animatingTo;c.vars.after(c)};c.animateSlides=function(){if(!c.animating&&o){c.flexAnimate(c.getTarget("next"))}};c.pause=function(){clearInterval(c.animatedSlides);c.animatedSlides=null;c.playing=false;if(c.vars.pausePlay){g.pausePlay.update("play")}if(c.syncExists){g.sync("pause")}};c.play=function(){if(c.playing){clearInterval(c.animatedSlides)}c.animatedSlides=c.animatedSlides||setInterval(c.animateSlides,c.vars.slideshowSpeed);c.started=c.playing=true;if(c.vars.pausePlay){g.pausePlay.update("pause")}if(c.syncExists){g.sync("play")}};c.stop=function(){c.pause();c.stopped=true};c.canAdvance=function(u,s){var t=(n)?c.pagingCount-1:c.last;return(s)?true:(n&&c.currentItem===c.count-1&&u===0&&c.direction==="prev")?true:(n&&c.currentItem===0&&u===c.pagingCount-1&&c.direction!=="next")?false:(u===c.currentSlide&&!n)?false:(c.vars.animationLoop)?true:(c.atEnd&&c.currentSlide===0&&u===t&&c.direction!=="next")?false:(c.atEnd&&c.currentSlide===t&&u===0&&c.direction==="next")?false:true};c.getTarget=function(s){c.direction=s;if(s==="next"){return(c.currentSlide===c.last)?0:c.currentSlide+1}else{return(c.currentSlide===0)?c.last:c.currentSlide-1}};c.setProps=function(v,s,t){var u=(function(){var w=(v)?v:((c.itemW+c.vars.itemMargin)*c.move)*c.animatingTo,x=(function(){if(p){return(s==="setTouch")?v:(m&&c.animatingTo===c.last)?0:(m)?c.limit-(((c.itemW+c.vars.itemMargin)*c.move)*c.animatingTo):(c.animatingTo===c.last)?c.limit:w}else{switch(s){case"setTotal":return(m)?((c.count-1)-c.currentSlide+c.cloneOffset)*v:(c.currentSlide+c.cloneOffset)*v;case"setTouch":return(m)?v:v;case"jumpEnd":return(m)?v:c.count*v;case"jumpStart":return(m)?c.count*v:v;default:return v}}}());return(x*-1)+"px"}());if(c.transitions){u=(j)?"translate3d(0,"+u+",0)":"translate3d("+u+",0,0)";t=(t!==undefined)?(t/1000)+"s":"0s";c.container.css("-"+c.pfx+"-transition-duration",t);c.container.css("transition-duration",t)}c.args[c.prop]=u;if(c.transitions||t===undefined){c.container.css(c.args)}c.container.css("transform",u)};c.setup=function(t){if(!h){var u,s;if(t==="init"){c.viewport=a('<div class="'+k+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(c).append(c.container);c.cloneCount=0;c.cloneOffset=0;if(m){s=a.makeArray(c.slides).reverse();c.slides=a(s);c.container.empty().append(c.slides)}}if(c.vars.animationLoop&&!p){c.cloneCount=2;c.cloneOffset=1;if(t!=="init"){c.container.find(".clone").remove()}g.uniqueID(c.slides.first().clone().addClass("clone").attr("aria-hidden","true")).appendTo(c.container);g.uniqueID(c.slides.last().clone().addClass("clone").attr("aria-hidden","true")).prependTo(c.container)}c.newSlides=a(c.vars.selector,c);u=(m)?c.count-1-c.currentSlide+c.cloneOffset:c.currentSlide+c.cloneOffset;if(j&&!p){c.container.height((c.count+c.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){c.newSlides.css({display:"block"});c.doMath();c.viewport.height(c.h);c.setProps(u*c.h,"init")},(t==="init")?100:0)}else{c.container.width((c.count+c.cloneCount)*200+"%");c.setProps(u*c.computedW,"init");setTimeout(function(){c.doMath();c.newSlides.css({width:c.computedW,"float":"left",display:"block"});if(c.vars.smoothHeight){g.smoothHeight()}},(t==="init")?100:0)}}else{c.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"});if(t==="init"){if(!l){c.slides.css({opacity:0,display:"block",zIndex:1}).eq(c.currentSlide).css({zIndex:2}).animate({opacity:1},c.vars.animationSpeed,c.vars.easing)}else{c.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+c.vars.animationSpeed/1000+"s ease",zIndex:1}).eq(c.currentSlide).css({opacity:1,zIndex:2})}}if(c.vars.smoothHeight){g.smoothHeight()}}if(!p){c.slides.removeClass(k+"active-slide").eq(c.currentSlide).addClass(k+"active-slide")}c.vars.init(c)};c.doMath=function(){var s=c.slides.first(),v=c.vars.itemMargin,t=c.vars.minItems,u=c.vars.maxItems;c.w=(c.viewport===undefined)?c.width():c.viewport.width();c.h=s.height();c.boxPadding=s.outerWidth()-s.width();if(p){c.itemT=c.vars.itemWidth+v;c.minW=(t)?t*c.itemT:c.w;c.maxW=(u)?(u*c.itemT)-v:c.w;c.itemW=(c.minW>c.w)?(c.w-(v*(t-1)))/t:(c.maxW<c.w)?(c.w-(v*(u-1)))/u:(c.vars.itemWidth>c.w)?c.w:c.vars.itemWidth;c.visible=Math.floor(c.w/(c.itemW));c.move=(c.vars.move>0&&c.vars.move<c.visible)?c.vars.move:c.visible;c.pagingCount=Math.ceil(((c.count-c.visible)/c.move)+1);c.last=c.pagingCount-1;c.limit=(c.pagingCount===1)?0:(c.vars.itemWidth>c.w)?(c.itemW*(c.count-1))+(v*(c.count-1)):((c.itemW+v)*c.count)-c.w-v}else{c.itemW=c.w;c.pagingCount=c.count;c.last=c.count-1}c.computedW=c.itemW-c.boxPadding};c.update=function(t,s){c.doMath();if(!p){if(t<c.currentSlide){c.currentSlide+=1}else{if(t<=c.currentSlide&&t!==0){c.currentSlide-=1}}c.animatingTo=c.currentSlide}if(c.vars.controlNav&&!c.manualControls){if((s==="add"&&!p)||c.pagingCount>c.controlNav.length){g.controlNav.update("add")}else{if((s==="remove"&&!p)||c.pagingCount<c.controlNav.length){if(p&&c.currentSlide>c.last){c.currentSlide-=1;c.animatingTo-=1}g.controlNav.update("remove",c.last)}}}if(c.vars.directionNav){g.directionNav.update()}};c.addSlide=function(s,u){var t=a(s);c.count+=1;c.last=c.count-1;if(j&&m){(u!==undefined)?c.slides.eq(c.count-u).after(t):c.container.prepend(t)}else{(u!==undefined)?c.slides.eq(u).before(t):c.container.append(t)}c.update(u,"add");c.slides=a(c.vars.selector+":not(.clone)",c);c.setup();c.vars.added(c)};c.removeSlide=function(s){var t=(isNaN(s))?c.slides.index(a(s)):s;c.count-=1;c.last=c.count-1;if(isNaN(s)){a(s,c.slides).remove()}else{(j&&m)?c.slides.eq(c.last).remove():c.slides.eq(s).remove()}c.doMath();c.update(t,"remove");c.slides=a(c.vars.selector+":not(.clone)",c);c.setup();c.vars.removed(c)};g.init()};a(window).blur(function(b){focused=false}).focus(function(b){focused=true});a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:false,animationLoop:true,smoothHeight:false,startAt:0,slideshow:true,slideshowSpeed:7000,animationSpeed:600,initDelay:0,randomize:false,thumbCaptions:false,pauseOnAction:true,pauseOnHover:false,pauseInvisible:true,useCSS:true,touch:true,video:false,controlNav:true,directionNav:true,prevText:"Previous",nextText:"Next",keyboard:true,multipleKeyboard:false,mousewheel:false,pausePlay:false,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:true,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}};a.fn.flexslider=function(b){if(b===undefined){b={}}if(typeof b==="object"){return this.each(function(){var f=a(this),d=(b.selector)?b.selector:".slides > li",e=f.find(d);if((e.length===1&&b.allowOneSlide===true)||e.length===0){e.fadeIn(400);if(b.start){b.start(f)}}else{if(f.data("flexslider")===undefined){new a.flexslider(this,b)}}})}else{var c=a(this).data("flexslider");switch(b){case"play":c.play();break;case"pause":c.pause();break;case"stop":c.stop();break;case"next":c.flexAnimate(c.getTarget("next"),true);break;case"prev":case"previous":c.flexAnimate(c.getTarget("prev"),true);break;default:if(typeof b==="number"){c.flexAnimate(b,true)}}}}})(jQuery);
/*
 * fancyBox - jQuery Plugin
 * version: 2.1.5 (Fri, 14 Jun 2013)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(m,p,j,e){var q=j("html"),d=j(m),a=j(p),r=j.fancybox=function(){r.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,f=p.createTouch!==e,k=function(s){return s&&s.hasOwnProperty&&s instanceof j},b=function(s){return s&&j.type(s)==="string"},n=function(s){return b(s)&&s.indexOf("%")>0},h=function(s){return(s&&!(s.style.overflow&&s.style.overflow==="hidden")&&((s.clientWidth&&s.scrollWidth>s.clientWidth)||(s.clientHeight&&s.scrollHeight>s.clientHeight)))},o=function(u,t){var s=parseInt(u,10)||0;if(t&&n(u)){s=r.getViewport()[t]/100*s}return Math.ceil(s)},g=function(s,t){return o(s,t)+"px"};j.extend(r,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,autoCenter:!f,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:j.noop,beforeLoad:j.noop,afterLoad:j.noop,beforeShow:j.noop,afterShow:j.noop,beforeChange:j.noop,beforeClose:j.noop,afterClose:j.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,s){if(!t){return}if(!j.isPlainObject(s)){s={}}if(false===r.close(true)){return}if(!j.isArray(t)){t=k(t)?j(t).get():[t]}j.each(t,function(y,z){var x={},u,C,A,B,w,D,v;if(j.type(z)==="object"){if(z.nodeType){z=j(z)}if(k(z)){x={href:z.data("fancybox-href")||z.attr("href"),title:z.data("fancybox-title")||z.attr("title"),isDom:true,element:z};if(j.metadata){j.extend(true,x,z.metadata())}}else{x=z}}u=s.href||x.href||(b(z)?z:null);C=s.title!==e?s.title:x.title||"";A=s.content||x.content;B=A?"html":(s.type||x.type);if(!B&&x.isDom){B=z.data("fancybox-type");if(!B){w=z.prop("class").match(/fancybox\.(\w+)/);B=w?w[1]:null}}if(b(u)){if(!B){if(r.isImage(u)){B="image"}else{if(r.isSWF(u)){B="swf"}else{if(u.charAt(0)==="#"){B="inline"}else{if(b(z)){B="html";A=z}}}}}if(B==="ajax"){D=u.split(/\s+/,2);u=D.shift();v=D.shift()}}if(!A){if(B==="inline"){if(u){A=j(b(u)?u.replace(/.*(?=#[^\s]+$)/,""):u)}else{if(x.isDom){A=z}}}else{if(B==="html"){A=u}else{if(!B&&!u&&x.isDom){B="inline";A=z}}}}j.extend(x,{href:u,type:B,content:A,title:C,selector:v});t[y]=x});r.opts=j.extend(true,{},r.defaults,s);if(s.keys!==e){r.opts.keys=s.keys?j.extend({},r.defaults.keys,s.keys):false}r.group=t;return r._start(r.opts.index)},cancel:function(){var s=r.coming;if(!s||false===r.trigger("onCancel")){return}r.hideLoading();if(r.ajaxLoad){r.ajaxLoad.abort()}r.ajaxLoad=null;if(r.imgPreload){r.imgPreload.onload=r.imgPreload.onerror=null}if(s.wrap){s.wrap.stop(true,true).trigger("onReset").remove()}r.coming=null;if(!r.current){r._afterZoomOut(s)}},close:function(s){r.cancel();if(false===r.trigger("beforeClose")){return}r.unbindEvents();if(!r.isActive){return}if(!r.isOpen||s===true){j(".fancybox-wrap").stop(true).trigger("onReset").remove();r._afterZoomOut()}else{r.isOpen=r.isOpened=false;r.isClosing=true;j(".fancybox-item, .fancybox-nav").remove();r.wrap.stop(true,true).removeClass("fancybox-opened");r.transitions[r.current.closeMethod]()}},play:function(u){var s=function(){clearTimeout(r.player.timer)},w=function(){s();if(r.current&&r.player.isActive){r.player.timer=setTimeout(r.next,r.current.playSpeed)}},t=function(){s();a.unbind(".player");r.player.isActive=false;r.trigger("onPlayEnd")},v=function(){if(r.current&&(r.current.loop||r.current.index<r.group.length-1)){r.player.isActive=true;a.bind({"onCancel.player beforeClose.player":t,"onUpdate.player":w,"beforeLoad.player":s});w();r.trigger("onPlayStart")}};if(u===true||(!r.player.isActive&&u!==false)){v()}else{t()}},next:function(t){var s=r.current;if(s){if(!b(t)){t=s.direction.next}r.jumpto(s.index+1,t,"next")}},prev:function(t){var s=r.current;if(s){if(!b(t)){t=s.direction.prev}r.jumpto(s.index-1,t,"prev")}},jumpto:function(t,v,s){var u=r.current;if(!u){return}t=o(t);r.direction=v||u.direction[(t>=u.index?"next":"prev")];r.router=s||"jumpto";if(u.loop){if(t<0){t=u.group.length+(t%u.group.length)}t=t%u.group.length}if(u.group[t]!==e){r.cancel();r._start(t)}},reposition:function(v,s){var u=r.current,t=u?u.wrap:null,w;if(t){w=r._getPosition(s);if(v&&v.type==="scroll"){delete w.position;t.stop(true,true).animate(w,200)}else{t.css(w);u.pos=j.extend({},u.dim,w)}}},update:function(u){var s=(u&&u.type),t=!s||s==="orientationchange";if(t){clearTimeout(c);c=null}if(!r.isOpen||c){return}c=setTimeout(function(){var v=r.current;if(!v||r.isClosing){return}r.wrap.removeClass("fancybox-tmp");if(t||s==="load"||(s==="resize"&&v.autoResize)){r._setDimension()}if(!(s==="scroll"&&v.canShrink)){r.reposition(u)}r.trigger("onUpdate");c=null},(t&&!f?0:300))},toggle:function(s){if(r.isOpen){r.current.fitToView=j.type(s)==="boolean"?s:!r.current.fitToView;if(f){r.wrap.removeAttr("style").addClass("fancybox-tmp");r.trigger("onUpdate")}r.update()}},hideLoading:function(){a.unbind(".loading");j("#fancybox-loading").remove()},showLoading:function(){var t,s;r.hideLoading();t=j('<div id="fancybox-loading"><div></div></div>').click(r.cancel).appendTo("body");a.bind("keydown.loading",function(u){if((u.which||u.keyCode)===27){u.preventDefault();r.cancel()}});if(!r.defaults.fixed){s=r.getViewport();t.css({position:"absolute",top:(s.h*0.5)+s.y,left:(s.w*0.5)+s.x})}},getViewport:function(){var s=(r.current&&r.current.locked)||false,t={x:d.scrollLeft(),y:d.scrollTop()};if(s){t.w=s[0].clientWidth;t.h=s[0].clientHeight}else{t.w=f&&m.innerWidth?m.innerWidth:d.width();t.h=f&&m.innerHeight?m.innerHeight:d.height()}return t},unbindEvents:function(){if(r.wrap&&k(r.wrap)){r.wrap.unbind(".fb")}a.unbind(".fb");d.unbind(".fb")},bindEvents:function(){var t=r.current,s;if(!t){return}d.bind("orientationchange.fb"+(f?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),r.update);s=t.keys;if(s){a.bind("keydown.fb",function(w){var u=w.which||w.keyCode,v=w.target||w.srcElement;if(u===27&&r.coming){return false}if(!w.ctrlKey&&!w.altKey&&!w.shiftKey&&!w.metaKey&&!(v&&(v.type||j(v).is("[contenteditable]")))){j.each(s,function(x,y){if(t.group.length>1&&y[u]!==e){r[x](y[u]);w.preventDefault();return false}if(j.inArray(u,y)>-1){r[x]();w.preventDefault();return false}})}})}if(j.fn.mousewheel&&t.mouseWheel){r.wrap.bind("mousewheel.fb",function(z,A,v,u){var y=z.target||null,w=j(y),x=false;while(w.length){if(x||w.is(".fancybox-skin")||w.is(".fancybox-wrap")){break}x=h(w[0]);w=j(w).parent()}if(A!==0&&!x){if(r.group.length>1&&!t.canShrink){if(u>0||v>0){r.prev(u>0?"down":"left")}else{if(u<0||v<0){r.next(u<0?"up":"right")}}z.preventDefault()}}})}},trigger:function(t,v){var s,u=v||r.coming||r.current;if(!u){return}if(j.isFunction(u[t])){s=u[t].apply(u,Array.prototype.slice.call(arguments,1))}if(s===false){return false}if(u.helpers){j.each(u.helpers,function(x,w){if(w&&r.helpers[x]&&j.isFunction(r.helpers[x][t])){r.helpers[x][t](j.extend(true,{},r.helpers[x].defaults,w),u)}})}a.trigger(t)},isImage:function(s){return b(s)&&s.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(s){return b(s)&&s.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var u={},y,s,v,w,x;t=o(t);y=r.group[t]||null;if(!y){return false}u=j.extend(true,{},r.opts,y);w=u.margin;x=u.padding;if(j.type(w)==="number"){u.margin=[w,w,w,w]}if(j.type(x)==="number"){u.padding=[x,x,x,x]}if(u.modal){j.extend(true,u,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}})}if(u.autoSize){u.autoWidth=u.autoHeight=true}if(u.width==="auto"){u.autoWidth=true}if(u.height==="auto"){u.autoHeight=true}u.group=r.group;u.index=t;r.coming=u;if(false===r.trigger("beforeLoad")){r.coming=null;return}v=u.type;s=u.href;if(!v){r.coming=null;if(r.current&&r.router&&r.router!=="jumpto"){r.current.index=t;return r[r.router](r.direction)}return false}r.isActive=true;if(v==="image"||v==="swf"){u.autoHeight=u.autoWidth=false;u.scrolling="visible"}if(v==="image"){u.aspectRatio=true}if(v==="iframe"&&f){u.scrolling="scroll"}u.wrap=j(u.tpl.wrap).addClass("fancybox-"+(f?"mobile":"desktop")+" fancybox-type-"+v+" fancybox-tmp "+u.wrapCSS).appendTo(u.parent||"body");j.extend(u,{skin:j(".fancybox-skin",u.wrap),outer:j(".fancybox-outer",u.wrap),inner:j(".fancybox-inner",u.wrap)});j.each(["Top","Right","Bottom","Left"],function(A,z){u.skin.css("padding"+z,g(u.padding[A]))});r.trigger("onReady");if(v==="inline"||v==="html"){if(!u.content||!u.content.length){return r._error("content")}}else{if(!s){return r._error("href")}}if(v==="image"){r._loadImage()}else{if(v==="ajax"){r._loadAjax()}else{if(v==="iframe"){r._loadIframe()}else{r._afterLoad()}}}},_error:function(s){j.extend(r.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:s,content:r.coming.tpl.error});r._afterLoad()},_loadImage:function(){var s=r.imgPreload=new Image();s.onload=function(){this.onload=this.onerror=null;r.coming.width=this.width/r.opts.pixelRatio;r.coming.height=this.height/r.opts.pixelRatio;r._afterLoad()};s.onerror=function(){this.onload=this.onerror=null;r._error("image")};s.src=r.coming.href;if(s.complete!==true){r.showLoading()}},_loadAjax:function(){var s=r.coming;r.showLoading();r.ajaxLoad=j.ajax(j.extend({},s.ajax,{url:s.href,error:function(t,u){if(r.coming&&u!=="abort"){r._error("ajax",t)}else{r.hideLoading()}},success:function(t,u){if(u==="success"){s.content=t;r._afterLoad()}}}))},_loadIframe:function(){var s=r.coming,t=j(s.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",f?"auto":s.iframe.scrolling).attr("src",s.href);j(s.wrap).bind("onReset",function(){try{j(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(u){}});if(s.iframe.preload){r.showLoading();t.one("load",function(){j(this).data("ready",1);if(!f){j(this).bind("load.fb",r.update)}j(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();r._afterLoad()})}s.content=t.appendTo(s.inner);if(!s.iframe.preload){r._afterLoad()}},_preloadImages:function(){var x=r.group,w=r.current,s=x.length,u=w.preload?Math.min(w.preload,s-1):0,v,t;for(t=1;t<=u;t+=1){v=x[(w.index+t)%s];if(v.type==="image"&&v.href){new Image().src=v.href}}},_afterLoad:function(){var t=r.coming,v=r.current,A="fancybox-placeholder",x,y,z,u,s,w;r.hideLoading();if(!t||r.isActive===false){return}if(false===r.trigger("afterLoad",t,v)){t.wrap.stop(true).trigger("onReset").remove();r.coming=null;return}if(v){r.trigger("beforeChange",v);v.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()}r.unbindEvents();x=t;y=t.content;z=t.type;u=t.scrolling;j.extend(r,{wrap:x.wrap,skin:x.skin,outer:x.outer,inner:x.inner,current:x,previous:v});s=x.href;switch(z){case"inline":case"ajax":case"html":if(x.selector){y=j("<div>").html(y).find(x.selector)}else{if(k(y)){if(!y.data(A)){y.data(A,j('<div class="'+A+'"></div>').insertAfter(y).hide())}y=y.show().detach();x.wrap.bind("onReset",function(){if(j(this).find(y).length){y.hide().replaceAll(y.data(A)).data(A,false)}})}}break;case"image":y=x.tpl.image.replace("{href}",s);break;case"swf":y='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+s+'"></param>';w="";j.each(x.swf,function(B,C){y+='<param name="'+B+'" value="'+C+'"></param>';w+=" "+B+'="'+C+'"'});y+='<embed src="'+s+'" type="application/x-shockwave-flash" width="100%" height="100%"'+w+"></embed></object>";break}if(!(k(y)&&y.parent().is(x.inner))){x.inner.append(y)}r.trigger("beforeShow");x.inner.css("overflow",u==="yes"?"scroll":(u==="no"?"hidden":u));r._setDimension();r.reposition();r.isOpen=false;r.coming=null;r.bindEvents();if(!r.isOpened){j(".fancybox-wrap").not(x.wrap).stop(true).trigger("onReset").remove()}else{if(v.prevMethod){r.transitions[v.prevMethod]()}}r.transitions[r.isOpened?x.nextMethod:x.openMethod]();r._preloadImages()},_setDimension:function(){var V=r.getViewport(),R=0,X=false,Z=false,D=r.wrap,P=r.skin,aa=r.inner,M=r.current,N=M.width,K=M.height,G=M.minWidth,z=M.minHeight,T=M.maxWidth,L=M.maxHeight,F=M.scrolling,x=M.scrollOutside?M.scrollbarWidth:0,J=M.margin,y=o(J[1]+J[3]),w=o(J[0]+J[2]),u,t,Q,S,I,H,O,B,A,W,v,Y,s,C,E;D.add(P).add(aa).width("auto").height("auto").removeClass("fancybox-tmp");u=o(P.outerWidth(true)-P.width());t=o(P.outerHeight(true)-P.height());Q=y+u;S=w+t;I=n(N)?(V.w-Q)*o(N)/100:N;H=n(K)?(V.h-S)*o(K)/100:K;if(M.type==="iframe"){C=M.content;if(M.autoHeight&&C.data("ready")===1){try{if(C[0].contentWindow.document.location){aa.width(I).height(9999);E=C.contents().find("body");if(x){E.css("overflow-x","hidden")}H=E.outerHeight(true)}}catch(U){}}}else{if(M.autoWidth||M.autoHeight){aa.addClass("fancybox-tmp");if(!M.autoWidth){aa.width(I)}if(!M.autoHeight){aa.height(H)}if(M.autoWidth){I=aa.width()}if(M.autoHeight){H=aa.height()}aa.removeClass("fancybox-tmp")}}N=o(I);K=o(H);A=I/H;G=o(n(G)?o(G,"w")-Q:G);T=o(n(T)?o(T,"w")-Q:T);z=o(n(z)?o(z,"h")-S:z);L=o(n(L)?o(L,"h")-S:L);O=T;B=L;if(M.fitToView){T=Math.min(V.w-Q,T);L=Math.min(V.h-S,L)}Y=V.w-y;s=V.h-w;if(M.aspectRatio){if(N>T){N=T;K=o(N/A)}if(K>L){K=L;N=o(K*A)}if(N<G){N=G;K=o(N/A)}if(K<z){K=z;N=o(K*A)}}else{N=Math.max(G,Math.min(N,T));if(M.autoHeight&&M.type!=="iframe"){aa.width(N);K=aa.height()}K=Math.max(z,Math.min(K,L))}if(M.fitToView){aa.width(N).height(K);D.width(N+u);W=D.width();v=D.height();if(M.aspectRatio){while((W>Y||v>s)&&N>G&&K>z){if(R++>19){break}K=Math.max(z,Math.min(L,K-10));N=o(K*A);if(N<G){N=G;K=o(N/A)}if(N>T){N=T;K=o(N/A)}aa.width(N).height(K);D.width(N+u);W=D.width();v=D.height()}}else{N=Math.max(G,Math.min(N,N-(W-Y)));K=Math.max(z,Math.min(K,K-(v-s)))}}if(x&&F==="auto"&&K<H&&(N+u+x)<Y){N+=x}aa.width(N).height(K);D.width(N+u);W=D.width();v=D.height();X=(W>Y||v>s)&&N>G&&K>z;Z=M.aspectRatio?(N<O&&K<B&&N<I&&K<H):((N<O||K<B)&&(N<I||K<H));j.extend(M,{dim:{width:g(W),height:g(v)},origWidth:I,origHeight:H,canShrink:X,canExpand:Z,wPadding:u,hPadding:t,wrapSpace:v-P.outerHeight(true),skinSpace:P.height()-K});if(!C&&M.autoHeight&&K>z&&K<L&&!Z){aa.height("auto")}},_getPosition:function(u){var y=r.current,t=r.getViewport(),w=y.margin,v=r.wrap.width()+w[1]+w[3],s=r.wrap.height()+w[0]+w[2],x={position:"absolute",top:w[0],left:w[3]};if(y.autoCenter&&y.fixed&&!u&&s<=t.h&&v<=t.w){x.position="fixed"}else{if(!y.locked){x.top+=t.y;x.left+=t.x}}x.top=g(Math.max(x.top,x.top+((t.h-s)*y.topRatio)));x.left=g(Math.max(x.left,x.left+((t.w-v)*y.leftRatio)));return x},_afterZoomIn:function(){var s=r.current;if(!s){return}r.isOpen=r.isOpened=true;r.wrap.css("overflow","visible").addClass("fancybox-opened");r.update();if(s.closeClick||(s.nextClick&&r.group.length>1)){r.inner.css("cursor","pointer").bind("click.fb",function(t){if(!j(t.target).is("a")&&!j(t.target).parent().is("a")){t.preventDefault();r[s.closeClick?"close":"next"]()}})}if(s.closeBtn){j(s.tpl.closeBtn).appendTo(r.skin).bind("click.fb",function(t){t.preventDefault();r.close()})}if(s.arrows&&r.group.length>1){if(s.loop||s.index>0){j(s.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev)}if(s.loop||s.index<r.group.length-1){j(s.tpl.next).appendTo(r.outer).bind("click.fb",r.next)}}r.trigger("afterShow");if(!s.loop&&s.index===s.group.length-1){r.play(false)}else{if(r.opts.autoPlay&&!r.player.isActive){r.opts.autoPlay=false;r.play()}}},_afterZoomOut:function(s){s=s||r.current;j(".fancybox-wrap").trigger("onReset").remove();j.extend(r,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});r.trigger("afterClose",s)}});r.transitions={getOrigPosition:function(){var v=r.current,t=v.element,y=v.orig,x={},s=50,z=50,w=v.hPadding,A=v.wPadding,u=r.getViewport();if(!y&&v.isDom&&t.is(":visible")){y=t.find("img:first");if(!y.length){y=t}}if(k(y)){x=y.offset();if(y.is("img")){s=y.outerWidth();z=y.outerHeight()}}else{x.top=u.y+(u.h-z)*v.topRatio;x.left=u.x+(u.w-s)*v.leftRatio}if(r.wrap.css("position")==="fixed"||v.locked){x.top-=u.y;x.left-=u.x}x={top:g(x.top-w*v.topRatio),left:g(x.left-A*v.leftRatio),width:g(s+A),height:g(z+w)};return x},step:function(t,u){var w,y,z,s=u.prop,v=r.current,x=v.wrapSpace,A=v.skinSpace;if(s==="width"||s==="height"){w=u.end===u.start?1:(t-u.start)/(u.end-u.start);if(r.isClosing){w=1-w}y=s==="width"?v.wPadding:v.hPadding;z=t-y;r.skin[s](o(s==="width"?z:z-(x*w)));r.inner[s](o(s==="width"?z:z-(x*w)-(A*w)))}},zoomIn:function(){var w=r.current,t=w.pos,u=w.openEffect,v=u==="elastic",s=j.extend({opacity:1},t);delete s.position;if(v){t=this.getOrigPosition();if(w.openOpacity){t.opacity=0.1}}else{if(u==="fade"){t.opacity=0.1}}r.wrap.css(t).animate(s,{duration:u==="none"?0:w.openSpeed,easing:w.openEasing,step:v?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var v=r.current,t=v.closeEffect,u=t==="elastic",s={opacity:0.1};if(u){s=this.getOrigPosition();if(v.closeOpacity){s.opacity=0.1}}r.wrap.animate(s,{duration:t==="none"?0:v.closeSpeed,easing:v.closeEasing,step:u?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var x=r.current,u=x.nextEffect,t=x.pos,s={opacity:1},w=r.direction,y=200,v;t.opacity=0.1;if(u==="elastic"){v=w==="down"||w==="up"?"top":"left";if(w==="down"||w==="right"){t[v]=g(o(t[v])-y);s[v]="+="+y+"px"}else{t[v]=g(o(t[v])+y);s[v]="-="+y+"px"}}if(u==="none"){r._afterZoomIn()}else{r.wrap.css(t).animate(s,{duration:x.nextSpeed,easing:x.nextEasing,complete:r._afterZoomIn})}},changeOut:function(){var u=r.previous,t=u.prevEffect,s={opacity:0.1},v=r.direction,w=200;if(t==="elastic"){s[v==="down"||v==="up"?"top":"left"]=(v==="up"||v==="left"?"-":"+")+"="+w+"px"}u.wrap.animate(s,{duration:t==="none"?0:u.prevSpeed,easing:u.prevEasing,complete:function(){j(this).trigger("onReset").remove()}})}};r.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!f,fixed:true},overlay:null,fixed:false,el:j("html"),create:function(s){s=j.extend({},this.defaults,s);if(this.overlay){this.close()}this.overlay=j('<div class="fancybox-overlay"></div>').appendTo(r.coming?r.coming.parent:s.parent);this.fixed=false;if(s.fixed&&r.defaults.fixed){this.overlay.addClass("fancybox-overlay-fixed");this.fixed=true}},open:function(t){var s=this;t=j.extend({},this.defaults,t);if(this.overlay){this.overlay.unbind(".overlay").width("auto").height("auto")}else{this.create(t)}if(!this.fixed){d.bind("resize.overlay",j.proxy(this.update,this));this.update()}if(t.closeClick){this.overlay.bind("click.overlay",function(u){if(j(u.target).hasClass("fancybox-overlay")){if(r.isActive){r.close()}else{s.close()}return false}})}this.overlay.css(t.css).show()},close:function(){var s,t;d.unbind("resize.overlay");if(this.el.hasClass("fancybox-lock")){j(".fancybox-margin").removeClass("fancybox-margin");s=d.scrollTop();t=d.scrollLeft();this.el.removeClass("fancybox-lock");d.scrollTop(s).scrollLeft(t)}j(".fancybox-overlay").remove().hide();j.extend(this,{overlay:null,fixed:false})},update:function(){var t="100%",s;this.overlay.width(t).height("100%");if(l){s=Math.max(p.documentElement.offsetWidth,p.body.offsetWidth);if(a.width()>s){t=a.width()}}else{if(a.width()>d.width()){t=a.width()}}this.overlay.width(t).height(a.height())},onReady:function(t,u){var s=this.overlay;j(".fancybox-overlay").stop(true,true);if(!s){this.create(t)}if(t.locked&&this.fixed&&u.fixed){if(!s){this.margin=a.height()>d.height()?j("html").css("margin-right").replace("px",""):false}u.locked=this.overlay.append(u.wrap);u.fixed=false}if(t.showEarly===true){this.beforeShow.apply(this,arguments)}},beforeShow:function(u,v){var s,t;if(v.locked){if(this.margin!==false){j("*").filter(function(){return(j(this).css("position")==="fixed"&&!j(this).hasClass("fancybox-overlay")&&!j(this).hasClass("fancybox-wrap"))}).addClass("fancybox-margin");this.el.addClass("fancybox-margin")}s=d.scrollTop();t=d.scrollLeft();this.el.addClass("fancybox-lock");d.scrollTop(s).scrollLeft(t)}this.open(u)},onUpdate:function(){if(!this.fixed){this.update()}},afterClose:function(s){if(this.overlay&&!r.coming){this.overlay.fadeOut(s.speedOut,j.proxy(this.close,this))}}};r.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var v=r.current,x=v.title,s=t.type,w,u;if(j.isFunction(x)){x=x.call(v.element,v)}if(!b(x)||j.trim(x)===""){return}w=j('<div class="fancybox-title fancybox-title-'+s+'-wrap">'+x+"</div>");switch(s){case"inside":u=r.skin;break;case"outside":u=r.wrap;break;case"over":u=r.inner;break;default:u=r.skin;w.appendTo("body");if(l){w.width(w.width())}w.wrapInner('<span class="child"></span>');r.current.margin[2]+=Math.abs(o(w.css("margin-bottom")));break}w[(t.position==="top"?"prependTo":"appendTo")](u)}};j.fn.fancybox=function(u){var t,v=j(this),s=this.selector||"",w=function(A){var z=j(this).blur(),x=t,y,B;if(!(A.ctrlKey||A.altKey||A.shiftKey||A.metaKey)&&!z.is(".fancybox-wrap")){y=u.groupAttr||"data-fancybox-group";B=z.attr(y);if(!B){y="rel";B=z.get(0)[y]}if(B&&B!==""&&B!=="nofollow"){z=s.length?j(s):v;z=z.filter("["+y+'="'+B+'"]');x=z.index(this)}u.index=x;if(r.open(z,u)!==false){A.preventDefault()}}};u=u||{};t=u.index||0;if(!s||u.live===false){v.unbind("click.fb-start").bind("click.fb-start",w)}else{a.undelegate(s,"click.fb-start").delegate(s+":not('.fancybox-item, .fancybox-nav')","click.fb-start",w)}this.filter("[data-fancybox-start=1]").trigger("click");return this};a.ready(function(){var t,s;if(j.scrollbarWidth===e){j.scrollbarWidth=function(){var v=j('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),w=v.children(),u=w.innerWidth()-w.height(99).innerWidth();v.remove();return u}}if(j.support.fixedPosition===e){j.support.fixedPosition=(function(){var v=j('<div style="position:fixed;top:20px;"></div>').appendTo("body"),u=(v[0].offsetTop===20||v[0].offsetTop===15);v.remove();return u}())}j.extend(r.defaults,{scrollbarWidth:j.scrollbarWidth(),fixed:j.support.fixedPosition,parent:j("body")});t=j(m).width();q.addClass("fancybox-lock-test");s=j(m).width();q.removeClass("fancybox-lock-test");j("<style type='text/css'>.fancybox-margin{margin-right:"+(s-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery));(function(b){var a=Quince={resetpassword:null,isUserLoggedIn:false,contentManagementSysURL:"",_uid:0,isIE:(b("html").is(".ie9, .ie8")),isFF:navigator.userAgent.indexOf("Firefox")>0,isHandheldPortrait:b("body").width()<450&&b("body").height()>b("body").width(),msGesture:window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,isTouch:(("ontouchstart" in window)||this.msGesture||window.DocumentTouch&&document instanceof DocumentTouch),googleAccount:"UA-1007198-3",_popups:{},windowWidth:b(window).width(),windowHeight:b(window).height(),columnSizes:{cell_total_container_width:720,cell_total_med_width:960,cell_total_sm_width:1682,cell_total_extra_tall:482,cell_total_short_width:482},_currentPopup:null,landingContent:null,_model:null,_mosaic_container:null,AncillaryLetters:["d","e","i","g"],init:function(){if(b.support.touch){b("body").addClass("ipad-iphone")}this.setupEventManager();$log("QUINCE:INIT isHandheld:"+this.isHandheldPortrait+"  --UA:"+navigator.userAgent);b(window).resize(this.onResize);b("#slider-container").hide()},onResize:function(){this.windowWidth=b(window).width();this.windowHeight=b(window).height();Quince.EventManager.fireEvent(Quince.Event.RESIZE,this)},animationHelper:function(d,f,e,c){b(d).css({position:"absolute",left:f}).animate({left:e},c)},bindToDocument:function(c,d){if(!document[c+"_callbacks"]){document[c+"_callbacks"]=[]}document[c+"_callbacks"].push(d);if(!document[c+"_registered"]){b(document).bind(c,this.handleDocumentEvent.bind(this,c));document[c+"_registered"]=true}},handleDocumentEvent:function(f,d){var c=document[d+"_callbacks"];b(c).each(function(e){c[e]()})},setupEventManager:function(){this.eventManager=new Quince.Event()},fireHashEvents:function(){var c=document.location.hash.toString().replace("#","");if(c.length>0){Quince.eventManager.fireEvent(Quince.Event.DEEPLINK,c)}},popup:function(e,d){var c=this._getPopup(d);if(c!=null){c.show(d);this._currentPopup=d}},_getPopup:function(d){var c=this._popups[d];if(c==null){switch(d){case"register":c=new Quince.Registration();break;case"sign-in":c=new Quince.Login();break}this._popups[d]=c}return c},loadTemplate:function(d){var c=b("#"+d);return _.template(c.html(),{})},nano:function(c,d){return c.replace(/\{([\w\.]*)\}/g,function(k,h){var j=h.split("."),f=d[j.shift()];for(var g=0,e=j.length;g<e;g++){f=f[j[g]]}return(typeof f!=="undefined"&&f!==null)?f:""})},isEmpty:function(d){if(d==null){return true}if(d.length>0){return false}if(d.length===0){return true}for(var c in d){if(hasOwnProperty.call(d,c)){return false}}return true}};Quince.SquareItem=Class.extend({_construct:function(c){Quince.eventManager.addEventHandler(Quince.Event.SHOWPOPUP,this.show.bind(this));this._el=c;this._type=c.attr("id")},hide:function(){this.hide()},show:function(){if(this.isOpened()){this.hide()}},onClick:function(c){c.preventDefault()}});Quince.Popup=Class.extend({_construct:function(c){Quince.eventManager.addEventHandler(Quince.Event.SHOWPOPUP,this.show.bind(this));this._el=c;this._type=c.attr("id");this._form=new Quince.Form(this._submit,this._el.find("div.form form"),null,this.formClick.bind(this));c.find("a.close").click(this.hide.bind(this))},overlayClose:function(){document.location.hash=""},hide:function(){this.hide()},show:function(c){if(c!=this._type){return}if(this.isOpened()){this.hide();setTimeout(this.__show.bind(this,c),300)}else{this.__show()}},__show:function(){this.show()},formClick:function(f){f.preventDefault();var c=this._form.valid();if(c){var d=this._form.serialize();b.post(this._postUrl,d,this._submitResult.bind(this),"json")}},_submitResult:function(c,e,d){if(c&&c.success==true){this.hide();if(typeof(c.email)!="Undefined"){registeredEmail=c.email}else{registeredEmail="Undefined"}this.submitSuccess(c.redirect)}else{$log("submit failed")}},submitSuccess:function(c){document.location.reload()}});Quince.Validate={NAME_REGEX:new RegExp("^[a-z'][-a-z ']*$"),PHONE_REGEX:new RegExp("/\d{2}-\d{9}/"),EMAIL_REGEX:new RegExp("/^[a-zA-Z0-9_+][-.a-zA-Z0-9_+]*@[a-zA-Z0-9][-.a-zA-Z0-9]*.(com|nl|de|be|se|edu|info|gov|int|mil|net|org|biz|name|museum|coop|aero|pro|tv|[a-zA-Z]{2})$/"),daysOfMonths:[31,28,31,30,31,30,31,31,30,31,30,31],validateDayDOB:function(e){var c=Boolean(Number(e)<=31);var d=Boolean(Number(e)>0);return(c&&d)},validateMonthDOB:function(e){var c=Boolean(Number(e)<=12);var d=Boolean(Number(e)>0);return(c&&d)},validateYearDOB:function(c){return this.checkLength(c,4)},validateDayExists:function(e,c,g){if(c==2&&isLeapYear(g)){return(e<=29)}else{var f=this.daysOfMonths[(c-1)]}return(e<=f)},isLeapYear:function(c){return(c%4==0)},trim:function(c){if(c==null){return""}return c.replace(/^\s+|\s+$/g,"")},checkIsEmpty:function(d){var c=this.trim(d);return Boolean(c.length==0)},checkLength:function(d,c){return Boolean(this.trim(d).length>=c)},checkImei:function(f){f=f.replace(/[ -]/g,"");var e=new RegExp("^[0-9]{15}$");if(!e.exec(f)){return false}var g;var c=0;for(var d=0;d<15;d++){g=parseInt(f[d]);if(d===14){if((c+g)%10!==0){return false}break}if(d%2===1){if(g>=5){c+=1+g*2-10}else{c+=g*2}}else{c+=g}}return true}};Quince.Event=Class.extend({_construct:function(){this.__event={}},addEventHandler:function(d,c){if(!this.__event[d]){this.__event[d]=new Array()}if(b.inArray(c,this.__event[d])<0){this.__event[d].push(c)}return this},removeEventHandler:function(e,d){var c=b.inArray(d,this.__event[e]);if(c>=0){this.__event[e].splice(c,1)}return this},removeEventHandlers:function(c){this.__event[c].length=0;return this},fireEvent:function(d){if(this.__event[d]){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.push(d);for(i=0;i<this.__event[d].length;i++){this.__event[d][i].apply(this,c)}}else{for(i=0;i<this.__event[d].length;i++){this.__event[d][i](d)}}}}});Quince.Brand={brand_blue:"#0172b4",brand_purple:"#5d2278",brand_orange:"#f5a81f",brand_red:"#da061e",brand_green:"#009339"};Quince.templates={cells:{cell_a:null,cell_b:null,cell_c:null,cell_d:null,cell_e:null,cell_f:null,cell_g:null,cell_h:null,cell_i:null,cell_p:null}};Quince.ancillary_models={quote_data:[{Body:"learn the rules like a pro, so you can break them like an artist.",Credit:"Pablo Picasso",Id:""},{Body:"creativity is contagious, pass it on.",Credit:"Albert Einstein",Id:""},{Body:"you can't wait for inspiration, you have to go after it with a club.",Credit:"Jack London",Id:""},{Body:"creativity requires the courage to let go of certainties.",Credit:"Erich Fromm",Id:""},{Body:"when the going gets weird, the weird turn pro.",Credit:"Hunter S. Thompson",Id:""},{Body:"we don't make mistakes, just happy little accidents.",Credit:"Bob Ross",Id:""},{Body:"design is not just what it looks like and feels like. Design is how it works.",Credit:"Steve Jobs",Id:""},{Body:"there is nothing worse than a sharp image of a fuzzy concept.",Credit:"Ansel Adams",Id:""},{Body:"while they are deciding, make even more art.",Credit:"Andy Warhol",Id:""},{Body:"Let the blood and the bruises define your legacy.",Credit:"Lady Gaga",Id:""}],action_data:[{Action:"",Sentences:["real people","real passion","real action"],Id:""},{Action:"jobs",Sentences:["get to know us","click here if you are up to the challenge"],Id:""},{Action:"about",Sentences:["who we are","click here to find out"],Id:""},{Action:"about",Sentences:["a team photo has many portraits","but only one story"],Id:""},{Action:"contact",Sentences:["a place to grow","click here to find our locations"],Id:""},{Action:"",Sentences:["real people","real passion","real action"],Id:""},{Action:"jobs",Sentences:["get to know us","click here if you are up to the challenge"],Id:""},{Action:"about",Sentences:["who we are","click here to find out"],Id:""},{Action:"about",Sentences:["a team photo has many portraits","but only one story"],Id:""},{Action:"contact",Sentences:["a place to grow","click here to find our locations"],Id:""}],long_images:[{Image:"img/cells/longs/cell_g_1.jpg",Id:""},{Image:"img/cells/longs/cell_g_2.jpg",Id:""},{Image:"img/cells/longs/cell_g_3.jpg",Id:""}],column_patterns:[["d","a","e","b","f","b","c","j"],["a","j","b","e","c","b","h","f","j"],["g","f","a","j","a","e","b","j"]]};Quince.Brand.ALL_COLORS=[Quince.Brand.brand_blue,Quince.Brand.brand_purple,Quince.Brand.brand_orange,Quince.Brand.brand_green];Quince.EventManager=new Quince.Event();Quince.Event.SHOWPOPUP="SHOWPOPUP";Quince.Event.DEEPLINK="DEEPLINK";Quince.Event.RESIZE="RESIZE";Quince.Event.RESIZE_SM_RESPONSE="RESIZE_SM";Quince.Event.RESIZE_MED_RESPONSE="RESIZE_MED";Quince.Event.RESIZE_LRG_RESPONSE="RESIZE_LRG";Quince.Event.RESIZE_SHORT_RESPONSE="RESIZE_SHORT";Quince.Event.RESIZE_TALL_RESPONSE="RESIZE_TALL";Quince.Event.PAGECHANGE="PAGECHANGE";Quince.Event.DISCLAIMER="DISCLAIMER";Quince.Event.CURRENTPAGE="CURRENTPAGE";Quince.Event.OPEN_CELL="OPEN_CELL";Quince.Event.MOSAIC_SCROLL_START="MOSAIC_SCROLL_START";Quince.Event.MOSAIC_SCROLL_END="MOSAIC_SCROLL_END";Quince.Event.MOSAIC_FLICK="MOSAIC_FLICK";Quince.Event.MOSAIC_VIDEO="MOSAIC_VIDEO";Quince.Event.MODEL_COLUMN_LOADING="MODEL_COLUMN_LOADING";Quince.Event.MODEL_COLUMN_LOADED="MODEL_COLUMN_LOADED";Quince.Event.MODEL_COLUMNS_COMPLETE="MODEL_COLUMNS_COMPLETE";Quince.Event.MODEL_COLUMNS_NODATA="MODEL_COLUMNS_NODATA";Quince.Event.MODEL_TEMPLATES_COMPLETE="MODEL_TEMPLATES_COMPLETE";Quince.Event.JSON_NOT_FOUND="JSON_NOT_FOUND";this.Quince=Quince})(jQuery);Quince.init();(function(b,a){a.Model=Class.extend({_construct:function(){this.components={Models:{},Collections:{},Views:{},Templates:{}}}});b.extend(a.Model,{_selectors:{},_extend:a.Model.extend,extend:function(e,d){var c=a.Model._extend(e);if(typeof d=="string"){a.Model._selectors[d]=c}return c},Init:function(){b.each(a.Model._selectors,function(d,c){b(d).each(function(){var e=new c(this);b(this).data(d,e)})})}});a.Model.Mosaic=a.Model.extend({_totalDataFiles:0,_totalPreload:5,_currentColumn:0,_columns:[],_firstLoad:false,_dataFinished:false,_directory:null,_mosaic:null,_construct:function(e,d){this._el=b(e);this._directory=d;this._super(this._el);var c=this._el.find(".mosaic-container");this._mosaic=b(c);b.ajax({url:d+"count.php",cache:false,async:true,dataType:"html",success:b.proxy(this.getCount,this)})},getCount:function(c){this._totalDataFiles=Number(c)-1;this.modifyPreload();this.compileTemplates();this.initModel();a.EventManager.addEventHandler(a.Event.MOSAIC_SCROLL_END,this.mosaicScrollHandler.bind(this))},modifyPreload:function(){if(a.windowWidth<=450){this._totalPreload=3}else{if(a.windowHeight>=970){this._totalPreload=7}}},mosaicScrollHandler:function(f,d,g,c,h){if(d<=g&&!this._dataFinished){this.nextModel()}},compileTemplates:function(){Quince.templates.cells.cell_a=_.template(b("#tpl-cell-a").html());Quince.templates.cells.cell_b=_.template(b("#tpl-cell-b").html());Quince.templates.cells.cell_c=_.template(b("#tpl-cell-c").html());Quince.templates.cells.cell_d=_.template(b("#tpl-cell-d").html());Quince.templates.cells.cell_e=_.template(b("#tpl-cell-e").html());Quince.templates.cells.cell_f=_.template(b("#tpl-cell-f").html());Quince.templates.cells.cell_g=_.template(b("#tpl-cell-g").html());Quince.templates.cells.cell_h=_.template(b("#tpl-cell-h").html());Quince.templates.cells.cell_i=_.template(b("#tpl-cell-i").html());Quince.templates.cells.cell_j=_.template(b("#tpl-cell-j").html());Quince.templates.cells.cell_p=_.template(b("#tpl-cell-personnel").html());b("#tpl-cell-a").remove();b("#tpl-cell-b").remove();b("#tpl-cell-c").remove();b("#tpl-cell-d").remove();b("#tpl-cell-e").remove();b("#tpl-cell-f").remove();b("#tpl-cell-g").remove();b("#tpl-cell-h").remove();b("#tpl-cell-i").remove();b("#tpl-cell-j").remove();b("#tpl-cell-personnel").remove()},initModel:function(){this.loadJsonFile(this._currentColumn)},nextModel:function(){var c=(this._currentColumn+=1);if(c<this._totalPreload){this.loadJsonFile(c)}else{if(!this._firstLoad){this._firstLoad=true;Quince.EventManager.fireEvent(Quince.Event.MODEL_COLUMNS_COMPLETE,this)}else{if(!this._dataFinished){this.loadJsonFile(c)}}}},loadJsonFile:function(c){var d=this._totalDataFiles-c;if(d==0){Quince.EventManager.fireEvent(Quince.Event.MODEL_COLUMNS_NODATA,this)}if(d>=0){Quince.EventManager.fireEvent(Quince.Event.MODEL_COLUMN_LOADING,this);b.ajax({url:this._directory+"column_"+d+".json",cache:false,async:true,dataType:"json",success:b.proxy(this.parseColumn,this),error:b.proxy(this.loadError,this)})}else{this.loadError(null)}},parseColumn:function(d){var f=Math.abs(this._currentColumn%3);var e=this.injectColumn(f);var g=new Quince.Model.Column(d,f,e,this._currentColumn);this._columns.push(g);!this._firstLoad?this.nextModel():a.EventManager.fireEvent(Quince.Event.MODEL_COLUMN_LOADED,this)},loadError:function(c){this._dataFinished=true;Quince.EventManager.removeEventHandler(a.Event.MOSAIC_SCROLL_END,this.mosaicScrollHandler)},injectColumn:function(e){var c=b('<li class="column col-style-'+e+'"></li>');var d=c.appendTo(this._mosaic);return d},loadTemplateFile:function(c){var g=b("#tpl-"+c);if(g.length===0){var f="/templates";var e=f+"/"+c+".tmpl";var d="";b.ajax({url:e,method:"GET",async:false,contentType:"text",success:function(h){d=h;b("head").append('<script id="tpl-'+c+'" type="text/template">'+d+"<\/script>")}})}}});a.Model.Column=a.Model.extend({_model:[],_cells:[],_style:null,_index:0,_construct:function(c,d,f,e){this._el=b(f);this._model=c;this._style=d;this._index=e;this.initModel()},initModel:function(){this.matchStyle();this.instantiateCells()},instantiateCells:function(){for(var c=0;c<this._model.length;c++){this.generateCell(c)}},generateCell:function(d){var e=new Quince.Model.Cell(this._model[d],this._el);this._cells.push(e)},sub_template:function(d,c){return _.template(d.replace(/<%\s*include\s*(.*?)\s*%>/g,function(e,f){var g=b("#"+f);return g?g.html():""}),c)},matchStyle:function(){var h=a.ancillary_models.column_patterns[this._style];var f=[];for(var e=0;e<h.length;e++){var j={};var c=h[e];var g="0"+this._index.toString()+e.toString();if(a.AncillaryLetters.indexOf(c)>-1){j=this.pullAncillaryData(c);j.CellType=c}else{for(var d=0;d<this._model.length;d++){if(this._model[d].CellType==c){j=this._model.splice(d,1)[0]}}if(a.isEmpty(j)){j={}}}if(a.isEmpty(j)==false){if(j.Id){j.Id=g}f.push(j)}}this._model=f},pullAncillaryData:function(d){var e={};if(d=="d"){var c=Math.floor(Math.random()*a.ancillary_models.action_data.length);e=a.ancillary_models.quote_data.splice(c,1)[0]}else{if(d=="e"){e=a.ancillary_models.action_data.splice(0,1)[0]}else{if(d=="g"){e=a.ancillary_models.long_images.splice(0,1)[0]}else{if(d=="i"){e={Id:""}}}}}return e},getObjects:function(f,d,g){var e=[];for(var c in f){if(!f.hasOwnProperty(c)){continue}if(typeof f[c]=="object"){e=e.concat(this.getObjects(f[c],d,g))}else{if(c==d&&f[d]==g){e.push(f)}}}return e}});a.Model.Cell=a.Model.extend({_model:{},_compiledTemplate:null,_view:null,_style:null,_column:null,_construct:function(c,d){this._model=c;this._column=d;this._style=this._model.CellType;this.initTemplate()},initTemplate:function(){var c="cell-"+this._style;var d=b("#tpl-"+c).html();this._view=Quince.templates.cells["cell_"+this._style](this._model);b(this._view).appendTo(this._column)}});a.Model.Init();this._model=new a.Model.Mosaic("#slider-container","data/cells/")})(jQuery,Quince);(function(b,a){a.Page=Class.extend({_construct:function(c){this._el=b(c)}});b.extend(a.Page,{_selectors:{},_extend:a.Page.extend,extend:function(e,d){var c=a.Page._extend(e);if(typeof d=="string"){a.Page._selectors[d]=c}return c},Init:function(){b.each(a.Page._selectors,function(d,c){b(d).each(function(){var e=new c(this);b(this).data(d,e)})})}});a.Page.Home=a.Page.extend({_construct:function(c){this._el=b(c);this._super(this._el);this.toplinks=b(this._el.find(".header .toplink"));this.subcontentOpened=false;this.currentContent=null;this.contentSwap=null;this.closeButton=null;this.initPage()},initPage:function(){this.closeButton=b(".sub-close-cta a").click(b.proxy(this.pageCollapse,this));this.toplinks.click(b.proxy(this.toplinkAnimate,this));a.EventManager.addEventHandler(a.Event.PAGECHANGE,this.catchPageChange.bind(this))},catchPageChange:function(d,c){this.toplinkAnimate(null,c)},onOpenTransitionEnd:function(){this.subcontentOpened=true;this._el.bind("tap click swipe focus",b.proxy(this.pageCollapse,this))},onCloseTransitionEnd:function(){if(this.subcontentOpened==true){this.subcontentOpened=false;this.currentContent.hide();this.currentContent=null;this.setScrollable(true);if(this.contentSwap!=null){b(this.contentSwap).trigger("click");this.contentSwap=null}}},pageCollapse:function(c){var d=this;if(this.subcontentOpened){this._el.animate({top:"0"},500,function(){d.onCloseTransitionEnd()})}this._el.mouseover(null);this._el.unbind("tap click swipe focus")},toplinkAnimate:function(k,f){if(k){k.preventDefault()}var l=k?b(k.currentTarget)[0]:null;if(f!=undefined&&f.length<2){return}var g="."+(f?f:l.id)+"-content";var d=b(g);var j=this;if(this.subcontentOpened==false){d.show();var n=d.find(".content")[0];var h=b(n).height()+(b("body").hasClass("ipad-iphone")?10:40);var m=a.windowHeight-30;if(h>m){h=m}this.setScrollable(false);this.currentContent=d;this._el.animate({top:h},500,function(){j.onOpenTransitionEnd()})}else{if(this.currentContent.selector!=d.selector){this.contentSwap=l}else{this.contentSwap=null}this._el.animate({top:"0"},500,function(){j.onCloseTransitionEnd()})}},setScrollable:function(c){var d=b("html, body");if(!c){d.css({overflow:"hidden",height:"100%"})}else{d.css({overflow:"auto",height:"100%"})}}});a.Page.Init();if(b(".home-content").length>0){this.landingContent=new a.Page.Home(".home-content")}})(jQuery,Quince);(function(c,a){a.Mosaic=Class.extend({_construct:function(d){this._el=c(d);this.slider=null}});c.extend(a.Mosaic,{_selectors:{},_extend:a.Mosaic.extend,extend:function(f,e){var d=a.Mosaic._extend(f);if(typeof e=="string"){a.Mosaic._selectors[e]=d}return d},Init:function(){c.each(a.Mosaic._selectors,function(e,d){c(e).each(function(){var f=new d(this);c(this).data(e,f)})})}});a.Mosaic.Container=a.Mosaic.extend({_mosaic:null,_columns:null,loading_items:false,building:false,currentColumnWidth:null,currentScrollX:0,_slider:null,_loader:null,_cta:null,columnWidths:{xs:480,md:720,sh:540,tl:700},_construct:function(d){this._el=c(d);this._super(this._el);this.initContainer()},initContainer:function(){this._slider=new IScroll("#slider-container",{scrollX:true,scrollY:false,mouseWheel:true,click:true,startX:0,useTransform:true,deceleration:0.05,momentum:true});this.initCTA();this._slider.on("scrollStart",c.proxy(this.onScrollStart,this));this._slider.on("scrollEnd",c.proxy(this.onScrollEnd,this));this.loading_items=true;$log("MOSAIC INITCONTAINER () -- DETECTIONS =======  isMSGesture:"+a.msGesture+" isTouch:"+a.isTouch);var d=this._el.find(".mosaic-container");this._mosaic=c(d);var e=this._mosaic.find(".column");this._columns=c(e);this._columns.each(function(){var f=new a.Mosaic.ParentColumn(this)});this.addEventHandlers();a.EventManager.fireEvent(a.Event.RESIZE,this);this.initLoader();this.hideLoader();this.onResize(null)},addEventHandlers:function(){a.EventManager.addEventHandler(a.Event.RESIZE,c.proxy(this.onResize,this));a.EventManager.addEventHandler(a.Event.MOSAIC_VIDEO,this.playbackVideo.bind(this));a.EventManager.addEventHandler(a.Event.MODEL_COLUMNS_NODATA,this.onEndOfData.bind(this));a.EventManager.addEventHandler(a.Event.MODEL_COLUMN_LOADING,this.onLoadingData.bind(this));a.EventManager.addEventHandler(a.Event.MODEL_COLUMN_LOADED,c.proxy(this.appendMosaic,this))},removeEventHandlers:function(){a.EventManager.removeEventHandler(a.Event.RESIZE,c.proxy(this.onResize,this));a.EventManager.removeEventHandler(a.Event.MOSAIC_VIDEO,this.playbackVideo.bind(this));a.EventManager.removeEventHandler(a.Event.MODEL_COLUMNS_NODATA,this.onEndOfData.bind(this));a.EventManager.removeEventHandler(a.Event.MODEL_COLUMN_LOADING,this.onLoadingData.bind(this));a.EventManager.removeEventHandler(a.Event.MODEL_COLUMN_LOADED,c.proxy(this.appendMosaic,this))},initCTA:function(){var e=this;var d=this._el.find(".cta-msg");this._cta=c(d[0]);this._cta.css({left:"150px"});setTimeout(function(){e.animateCTA()},2000)},animateCTA:function(){var e=(a.windowWidth+Math.abs(this._slider.x))-(this._cta.width()+10);var d=Number(this._cta.css("left").split("px")[0]);$log("CTA x:"+d+" go:"+e);if(e>d){this._cta.animate({left:(e+"px")},600,"easeOutBounce")}},onLoadingData:function(d){this.loading_items=true;this.showLoader()},onEndOfData:function(g){this.loading_items=false;var f=c(this._columns[0]).width();var d=(this._columns.length*f);c("#slider-container .scroller").width(d);this._slider.refresh();this.hideLoader();this._loader.remove();this._cta.fadeOut()},onBeforeScrollStart:function(f){var d=f.target;while(d.nodeType!=1){d=d.parentNode}if(d.tagName!="SELECT"&&d.tagName!="INPUT"&&d.tagName!="TEXTAREA"){f.preventDefault()}},onResize:function(h){var f=c(this._columns[0]).width();var d=(this._columns.length*f)+(this.loading_items?50:0);var g=this._slider;var j=this;c("#slider-container .scroller").width(d);if(f!=this.currentColumnWidth){this.currentColumnWidth=f;setTimeout(function(){j._slider.refresh()},0)}},appendMosaic:function(h){$log("REFRESH MOSAIC!!!!!!");var k=this._mosaic.find(".column");var f=k[k.length-1];this._columns.push(f);var d=(this._columns.length)*this.currentColumnWidth;c("#slider-container .scroller").width(d);var g=new a.Mosaic.ParentColumn(f);var j=this;this.hideLoader();this._slider.refresh()},positionMosaic:function(){this._slider.forcePositionX(this.currentScrollX)},scaleColumns:function(d){var e=this;$log("SET WIDTH:"+d);this._columns.each(function(f){c(this).width(d)})},onScrollStart:function(d){a.EventManager.fireEvent(a.Event.MOSAIC_SCROLL_START,this)},onScrollCancel:function(d){},onScrollEnd:function(d){this.currentScrollX=this._slider.x;this.animateCTA();a.EventManager.fireEvent(a.Event.MOSAIC_SCROLL_END,this,this._slider.x,this._slider.maxScrollX,this._slider.directionX,this._slider.directionY)},initLoader:function(){this._loader=c('<img src="img/loading.gif">').appendTo(".home-content").css({position:"absolute",display:"block",top:"123px",right:"10px","z-index":"50"})},showLoader:function(){this._loader.show()},hideLoader:function(){this._loader.hide()},onFlick:function(d){$log("FLICK----------------");a.EventManager.fireEvent(a.Event.MOSAIC_FLICK,this)},playbackVideo:function(f,d){c.fancybox({padding:0,autoScale:false,transitionIn:"none",transitionOut:"none",title:"",autoPlay:true,hideOnOverlayClick:true,width:1280,height:720,href:d,type:"iframe",swf:{wmode:"transparent",allowfullscreen:"false"},overlay:{opacity:0.1,css:{"background-color":"#000000"}}})}});a.Mosaic.ParentColumn=a.Mosaic.extend({_grid:null,_cells:[],currentCellOpened:null,loading_items:false,building:false,strict:false,overlay:false,scroll:false,filter:false,grid_full:false,_construct:function(d){this._el=c(d);this._super(this._el);this.initContainer()},initContainer:function(){var e=this;this._grid=this._el.masonry({itemSelector:".cell-box",columnWidth:240,isAnimated:true}).masonry("bindResize");var d=this._grid.masonry("getItemElements");c(d).each(function(g){var f=new a.Mosaic.Cell(this,e._grid);e._cells.push(f)});a.EventManager.fireEvent(Quince.Event.RESIZE,this)}});a.Mosaic.Cell=a.Mosaic.extend({_parent:null,_carousel:null,loading_items:false,building:false,opened:false,half_width:235,full_width:474,half_height:134,full_height:272,deadzone:5,startMouseX:null,offContent:null,onContent:null,sizeLetter:null,_construct:function(d,e){this._el=c(d);this._super(this._el);this._parent=e;this.initContainer();return this.closeInfo},initContainer:function(){this.sizeLetter=this.getItemSize(this._el);var e=this._el.find(".on-state");var d=this._el.find(".off-state");this.offContent=c(d);this.onContent=e.length>0?c(e):null;if(this.sizeLetter=="a"||this.sizeLetter=="b"||this.sizeLetter=="j"||this.sizeLetter=="f"){if(a.msGesture){this._el.on("MSPointerDown",c.proxy(this.onMsPress,this));this._el.on("MSGestureEnd",c.proxy(this.onMsRelease,this))}else{this._el.hammer().on("touch",c.proxy(this.onPress,this));this._el.hammer().on("release",c.proxy(this.onRelease,this))}}else{if(this.sizeLetter=="e"){this.colorizeCell();this.processPageAction(this._el.data("action"))}}if(this.sizeLetter=="f"){this._carousel=this._el.find(".flexslider").flexslider({namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:false,animationLoop:true,smoothHeight:false,startAt:0,slideshow:true,slideshowSpeed:4000,animationSpeed:500,initDelay:(Math.random*5000),randomize:false,pauseOnAction:true,pauseOnHover:false,useCSS:true,touch:false,video:false,controlNav:true,directionNav:false,prevText:"Previous",nextText:"Next",keyboard:false,multipleKeyboard:false,mousewheel:false,pausePlay:false,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:474,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(f){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}})}a.EventManager.addEventHandler(a.Event.OPEN_CELL,this.onCellClick.bind(this));a.EventManager.addEventHandler(a.Event.MOSAIC_SCROLL_START,this.closeInfo.bind(this));c("#slider-container").show()},processVideoAction:function(d){var f=this._el.data("ref");var e="http://";if(d=="vim"){e+="player.vimeo.com/video/"}if(d=="yt"){e+="youtube.com/?"}if(f){e+=f}else{e="http://vimeo.com/quinceamsterdam"}a.EventManager.fireEvent(a.Event.MOSAIC_VIDEO,this,e)},processPageAction:function(d){if(d!="none"){this._el.click(function(f){f.preventDefault();a.EventManager.fireEvent(a.Event.PAGECHANGE,this,d)});this._el.css({cursor:"pointer"})}},colorizeCell:function(){var d=Math.floor(Math.random()*a.Brand.ALL_COLORS.length);var e=a.Brand.ALL_COLORS[d];this._el.find(".off-state").css({"background-color":e})},onCellClick:function(g,f){var d=g==this;if(!d&&this.opened){this.closeInfo()}},onClick:function(d){if(!this.opened){this.openInfo()}else{if(this.sizeLetter=="j"){this.processVideoAction(this._el.data("portal"))}this.closeInfo()}},openInfo:function(){if(!this.opened){a.EventManager.fireEvent(a.Event.OPEN_CELL,this);var d=Math.round(this._el.height()-20);this.offContent.addClass("desaturate");if(this.onContent){this.onContent.topZIndex()}this.opened=true;if(this.sizeLetter=="f"){this._carousel.flexslider("pause");if(this.onContent){this.onContent.css({top:"60%"})}}else{this.onContent.css({top:(this.sizeLetter=="a"?"30%":"0")})}}},closeInfo:function(){if(this.opened){this.offContent.removeClass("desaturate");if(this.onContent){this.onContent.css({top:"100%"})}this.opened=false;if(this.sizeLetter=="f"){this._carousel.flexslider("play")}}},onPress:function(d){d.preventDefault();d.stopPropagation();this.startMouseX=d.gesture.center.pageX},onRelease:function(f){f.preventDefault();f.stopPropagation();var d=f.gesture.center.pageX-this.startMouseX;if(d<this.deadzone&&d>-this.deadzone){this.onClick(null)}},onMsPress:function(d){d.preventDefault();d.stopPropagation();this.startMouseX=d.pageX},onMsRelease:function(f){f.preventDefault();f.stopPropagation();var d=f.pageX-this.startMouseX;if(d<this.deadzone&&d>-this.deadzone){this.onClick(null)}},getItemSize:function(d){if(d.hasClass("cell-a")){return"a"}if(d.hasClass("cell-b")){return"b"}if(d.hasClass("cell-c")){return"c"}if(d.hasClass("cell-d")){return"d"}if(d.hasClass("cell-e")){return"e"}if(d.hasClass("cell-f")){return"f"}if(d.hasClass("cell-g")){return"g"}if(d.hasClass("cell-h")){return"h"}if(d.hasClass("cell-i")){return"i"}if(d.hasClass("cell-j")){return"j"}return""}});function b(d){a.Mosaic.Init();if(c("#slider-container").length>0){this.landingContent=new a.Mosaic.Container("#slider-container")}}a.EventManager.addEventHandler(a.Event.MODEL_COLUMNS_COMPLETE,b.bind(this))})(jQuery,Quince);(function(){var a=["android","webos","iphone","ipad","blackberry"];for(i in a){if(navigator.userAgent.toLowerCase().indexOf(a[i])!=-1){$(document).data("mobile",navigator.userAgent)}}})();(function(){var e;var d=function(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var c=b.length;var a=(window.console=window.console||{});while(c--){e=b[c];if(!a[e]){a[e]=d}}}());var _gaq=_gaq||[];_gaq.push(["_setAccount",Quince.googleAccount]);_gaq.push(["_trackPageview"]);console.log("GA: "+Quince.googleAccount);(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})();(function(a){a.topZIndex=function(b){return Math.max(0,Math.max.apply(null,a.map(((b||"*")==="*")?a.makeArray(document.getElementsByTagName("*")):a(b),function(c){return parseFloat(a(c).css("z-index"))||null})))};a.fn.topZIndex=function(b){if(this.length===0){return this}b=a.extend({increment:1},b);var d=a.topZIndex(b.selector),c=b.increment;return this.each(function(){this.style.zIndex=(d+=c)})}})(jQuery);